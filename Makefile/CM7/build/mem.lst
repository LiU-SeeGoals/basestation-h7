ARM GAS  /tmp/ccT91cjR.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"mem.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.file 1 "../../Middlewares/Third_Party/LwIP/src/core/mem.c"
  19              		.section	.text.ptr_to_mem,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	ptr_to_mem:
  26              	.LVL0:
  27              	.LFB170:
   1:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
   2:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @file
   3:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Dynamic memory manager
   4:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   5:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This is a lightweight replacement for the standard C library malloc().
   6:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
   7:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If you want to use the standard C library malloc() instead, define
   8:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEM_LIBC_MALLOC to 1 in your lwipopts.h
   9:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  10:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * To let mem_malloc() use pools (prevents fragmentation and is much faster than
  11:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * a heap but might waste some memory), define MEM_USE_POOLS to 1, define
  12:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MEMP_USE_CUSTOM_POOLS to 1 and create a file "lwippools.h" that includes a list
  13:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of pools like this (more pools can be added between _START and _END):
  14:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  15:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Define three pools with sizes 256, 512, and 1512 bytes
  16:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_START
  17:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(20, 256)
  18:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(10, 512)
  19:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL(5, 1512)
  20:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_MALLOC_MEMPOOL_END
  21:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  22:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  23:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /*
  24:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Copyright (c) 2001-2004 Swedish Institute of Computer Science.
  25:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * All rights reserved.
  26:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  27:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Redistribution and use in source and binary forms, with or without modification,
  28:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * are permitted provided that the following conditions are met:
  29:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  30:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  31:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer.
ARM GAS  /tmp/ccT91cjR.s 			page 2


  32:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  33:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    this list of conditions and the following disclaimer in the documentation
  34:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    and/or other materials provided with the distribution.
  35:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * 3. The name of the author may not be used to endorse or promote products
  36:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *    derived from this software without specific prior written permission.
  37:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  38:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR IMPLIED
  39:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  40:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
  41:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  42:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT
  43:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  44:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  45:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING
  46:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY
  47:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * OF SUCH DAMAGE.
  48:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  49:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This file is part of the lwIP TCP/IP stack.
  50:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  51:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Author: Adam Dunkels <adam@sics.se>
  52:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         Simon Goldschmidt
  53:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  54:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  55:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  56:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/opt.h"
  57:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/mem.h"
  58:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/def.h"
  59:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/sys.h"
  60:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/stats.h"
  61:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include "lwip/err.h"
  62:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  63:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <string.h>
  64:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  65:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
  66:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #include <stdlib.h> /* for malloc()/free() */
  67:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  68:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  69:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* This is overridable for tests only... */
  70:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_MEM_ILLEGAL_FREE
  71:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ILLEGAL_FREE(msg)         LWIP_ASSERT(msg, 0)
  72:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  73:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  74:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_LOCKED(x)         SYS_ARCH_LOCKED(MEM_STATS_INC(x))
  75:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_INC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_INC_USED(x, y))
  76:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_STATS_DEC_USED_LOCKED(x, y) SYS_ARCH_LOCKED(MEM_STATS_DEC_USED(x, y))
  77:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  78:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
  79:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   MEM_SANITY_REGION_BEFORE_ALIGNED
  80:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD (MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED)
  81:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
  82:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OFFSET   0
  83:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY_OVERHEAD 0
  84:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
  85:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
  86:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK
  87:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
  88:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Check if a mep element was victim of an overflow or underflow
ARM GAS  /tmp/ccT91cjR.s 			page 3


  89:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * (e.g. the restricted area after/before it has been altered)
  90:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
  91:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param p the mem element to check
  92:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size allocated size of the element
  93:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr1 description of the element source shown on error
  94:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param descr2 description of the element source shown on error
  95:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
  96:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
  97:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_raw(void *p, size_t size, const char *descr1, const char *descr2)
  98:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  99:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED || MEM_SANITY_REGION_BEFORE_ALIGNED
 100:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u16_t k;
 101:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 102:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 103:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 104:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
 105:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_AFTER_ALIGNED; k++) {
 106:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 107:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 108:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem overflow in %s%s", descr1, descr2);
 109:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 110:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 111:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 112:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 113:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 114:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 115:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 116:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (k = 0; k < MEM_SANITY_REGION_BEFORE_ALIGNED; k++) {
 117:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (m[k] != 0xcd) {
 118:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       char errstr[128];
 119:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       snprintf(errstr, sizeof(errstr), "detected mem underflow in %s%s", descr1, descr2);
 120:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT(errstr, 0);
 121:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 122:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 123:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 */
 124:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 125:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 126:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 127:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(descr);
 128:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 129:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 130:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 131:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 132:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Initialize the restricted area of a mem element.
 133:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 134:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 135:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_raw(void *p, size_t size)
 136:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 137:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0
 138:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t *m;
 139:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_BEFORE_ALIGNED > 0
 140:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p - MEM_SANITY_REGION_BEFORE_ALIGNED;
 141:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_BEFORE_ALIGNED);
 142:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 143:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_REGION_AFTER_ALIGNED > 0
 144:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   m = (u8_t *)p + size;
 145:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset(m, 0xcd, MEM_SANITY_REGION_AFTER_ALIGNED);
ARM GAS  /tmp/ccT91cjR.s 			page 4


 146:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 147:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 148:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(p);
 149:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(desc);
 150:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_REGION_BEFORE_ALIGNED > 0 || MEM_SANITY_REGION_AFTER_ALIGNED > 0 */
 151:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 152:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK || MEMP_OVERFLOW_CHECK */
 153:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 154:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC || MEM_USE_POOLS
 155:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 156:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_init is not used when using pools instead of a heap or using
 157:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc().
 158:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 159:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 160:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 161:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 162:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 163:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 164:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** mem_trim is not used when using pools instead of a heap or using
 165:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * C library malloc(): we can't free part of a pool element and the stack
 166:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * support mem_trim() to return a different pointer
 167:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 168:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 169:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *mem, mem_size_t size)
 170:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 171:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_UNUSED_ARG(size);
 172:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem;
 173:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 174:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_LIBC_MALLOC || MEM_USE_POOLS */
 175:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 176:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC
 177:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented using C library malloc() */
 178:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 179:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* in case C library malloc() needs extra protection,
 180:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * allow these defines to be overridden.
 181:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 182:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_free
 183:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_free free
 184:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 185:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_malloc
 186:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_malloc malloc
 187:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 188:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef mem_clib_calloc
 189:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_clib_calloc calloc
 190:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 191:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 192:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 193:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE LWIP_MEM_ALIGN_SIZE(sizeof(mem_size_t))
 194:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 195:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_LIBC_STATSHELPER_SIZE 0
 196:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 197:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 198:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 199:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 200:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 201:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size is the minimum size of the requested block in bytes.
 202:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
ARM GAS  /tmp/ccT91cjR.s 			page 5


 203:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 204:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value must always be aligned (as defined by MEM_ALIGNMENT).
 205:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 206:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 207:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 208:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 209:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret = mem_clib_malloc(size + MEM_LIBC_STATSHELPER_SIZE);
 210:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (ret == NULL) {
 211:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 212:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else {
 213:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("malloc() must return aligned memory", LWIP_MEM_ALIGN(ret) == ret);
 214:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 215:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     *(mem_size_t *)ret = size;
 216:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     ret = (u8_t *)ret + MEM_LIBC_STATSHELPER_SIZE;
 217:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_USED_LOCKED(used, size);
 218:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 219:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 220:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 221:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 222:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 223:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** Put memory back on the heap
 224:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 225:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the pointer as returned by a previous call to mem_malloc()
 226:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 227:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 228:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 229:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 230:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 231:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 232:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_STATS && MEM_STATS
 233:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem = (u8_t *)rmem - MEM_LIBC_STATSHELPER_SIZE;
 234:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, *(mem_size_t *)rmem);
 235:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 236:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_clib_free(rmem);
 237:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 238:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 239:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #elif MEM_USE_POOLS
 240:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 241:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP heap implemented with different sized pools */
 242:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 243:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 244:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate memory: determine the smallest pool that is big enough
 245:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * to contain an element of 'size' and get an element from that pool.
 246:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 247:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size the size in bytes of the memory needed
 248:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return a pointer to the allocated memory or NULL if the pool is empty
 249:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 250:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 251:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size)
 252:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 253:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *ret;
 254:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *element = NULL;
 255:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_t poolnr;
 256:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t required_size = size + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 257:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 258:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (poolnr = MEMP_POOL_FIRST; poolnr <= MEMP_POOL_LAST; poolnr = (memp_t)(poolnr + 1)) {
 259:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* is this pool big enough to hold an element of the required size
ARM GAS  /tmp/ccT91cjR.s 			page 6


 260:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****        plus a struct memp_malloc_helper that saves the pool this element came from? */
 261:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (required_size <= memp_pools[poolnr]->size) {
 262:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       element = (struct memp_malloc_helper *)memp_malloc(poolnr);
 263:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (element == NULL) {
 264:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* No need to DEBUGF or ASSERT: This error is already taken care of in memp.c */
 265:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_USE_POOLS_TRY_BIGGER_POOL
 266:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /** Try a bigger pool if this one is empty! */
 267:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (poolnr < MEMP_POOL_LAST) {
 268:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           continue;
 269:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 270:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS_TRY_BIGGER_POOL */
 271:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_STATS_INC_LOCKED(err);
 272:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         return NULL;
 273:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 274:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       break;
 275:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 276:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 277:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (poolnr > MEMP_POOL_LAST) {
 278:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("mem_malloc(): no pool is that big!", 0);
 279:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(err);
 280:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 281:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 282:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 283:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* save the pool number this element came from */
 284:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->poolnr = poolnr;
 285:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and return a pointer to the memory directly after the struct memp_malloc_helper */
 286:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ret = (u8_t *)element + LWIP_MEM_ALIGN_SIZE(sizeof(struct memp_malloc_helper));
 287:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 288:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS)
 289:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* truncating to u16_t is safe because struct memp_desc::size is u16_t */
 290:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   element->size = (u16_t)size;
 291:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC_USED_LOCKED(used, element->size);
 292:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK || (LWIP_STATS && MEM_STATS) */
 293:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 294:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize unused memory (diff between requested size and selected pool's size) */
 295:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   memset((u8_t *)ret + size, 0xcd, memp_pools[poolnr]->size - size);
 296:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 297:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return ret;
 298:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 299:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 300:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 301:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Free memory previously allocated by mem_malloc. Loads the pool number
 302:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * and calls memp_free with that pool number to put the element back into
 303:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * its pool
 304:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 305:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem the memory element to free
 306:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 307:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 308:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 309:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 310:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct memp_malloc_helper *hmem;
 311:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 312:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem != NULL", (rmem != NULL));
 313:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("rmem == MEM_ALIGN(rmem)", (rmem == LWIP_MEM_ALIGN(rmem)));
 314:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 315:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* get the original struct memp_malloc_helper */
 316:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
ARM GAS  /tmp/ccT91cjR.s 			page 7


 317:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   hmem = (struct memp_malloc_helper *)(void *)((u8_t *)rmem - LWIP_MEM_ALIGN_SIZE(sizeof(struct mem
 318:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 319:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem != NULL", (hmem != NULL));
 320:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem == MEM_ALIGN(hmem)", (hmem == LWIP_MEM_ALIGN(hmem)));
 321:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("hmem->poolnr < MEMP_MAX", (hmem->poolnr < MEMP_MAX));
 322:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 323:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED_LOCKED(used, hmem->size);
 324:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEMP_OVERFLOW_CHECK
 325:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   {
 326:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     u16_t i;
 327:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("MEM_USE_POOLS: invalid chunk size",
 328:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                 hmem->size <= memp_pools[hmem->poolnr]->size);
 329:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* check that unused memory remained untouched (diff between requested size and selected pool's
 330:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (i = hmem->size; i < memp_pools[hmem->poolnr]->size; i++) {
 331:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       u8_t data = *((u8_t *)rmem + i);
 332:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("MEM_USE_POOLS: mem overflow detected", data == 0xcd);
 333:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 334:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 335:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEMP_OVERFLOW_CHECK */
 336:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 337:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* and put it in the pool we saved earlier */
 338:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   memp_free(hmem->poolnr, hmem);
 339:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 340:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 341:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_USE_POOLS */
 342:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* lwIP replacement for your libc malloc() */
 343:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 344:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 345:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The heap is made up as a list of structs of this type.
 346:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This does not have to be aligned since for getting its size,
 347:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * we only use the macro SIZEOF_STRUCT_MEM, which automatically aligns.
 348:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 349:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** struct mem {
 350:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[next]) of the next struct */
 351:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t next;
 352:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** index (-> ram[prev]) of the previous struct */
 353:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t prev;
 354:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** 1: this area is used; 0: this area is unused */
 355:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t used;
 356:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 357:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /** this keeps track of the user allocation size for guard checks */
 358:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t user_size;
 359:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 360:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** };
 361:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 362:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** All allocated blocks will be MIN_SIZE bytes big, at least!
 363:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * MIN_SIZE can be overridden to suit your needs. Smaller values save space,
 364:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * larger values could prevent too small blocks to fragment the RAM too much. */
 365:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef MIN_SIZE
 366:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE             12
 367:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MIN_SIZE */
 368:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* some alignment macros: we define them here for better source code layout */
 369:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MIN_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MIN_SIZE)
 370:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define SIZEOF_STRUCT_MEM    LWIP_MEM_ALIGN_SIZE(sizeof(struct mem))
 371:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SIZE_ALIGNED     LWIP_MEM_ALIGN_SIZE(MEM_SIZE)
 372:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 373:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** If you want to relocate the heap to external memory, simply define
ARM GAS  /tmp/ccT91cjR.s 			page 8


 374:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * LWIP_RAM_HEAP_POINTER as a void-pointer to that location.
 375:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If so, make sure the memory at that location is big enough (see below on
 376:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * how that space is calculated). */
 377:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #ifndef LWIP_RAM_HEAP_POINTER
 378:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the heap. we need one struct mem at the end and some room for alignment */
 379:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** LWIP_DECLARE_MEMORY_ALIGNED(ram_heap, MEM_SIZE_ALIGNED + (2U * SIZEOF_STRUCT_MEM));
 380:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_RAM_HEAP_POINTER ram_heap
 381:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_RAM_HEAP_POINTER */
 382:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 383:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the heap (ram_heap): for alignment, ram is now a pointer instead of an array */
 384:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static u8_t *ram;
 385:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** the last entry, always unused! */
 386:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *ram_end;
 387:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 388:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** concurrent access protection */
 389:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if !NO_SYS
 390:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static sys_mutex_t mem_mutex;
 391:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 392:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 393:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 394:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 395:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static volatile u8_t mem_free_count;
 396:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 397:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Allow mem_free from other (e.g. interrupt) context */
 398:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()  SYS_ARCH_DECL_PROTECT(lev_free)
 399:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()       SYS_ARCH_PROTECT(lev_free)
 400:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()     SYS_ARCH_UNPROTECT(lev_free)
 401:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT() SYS_ARCH_DECL_PROTECT(lev_alloc)
 402:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()      SYS_ARCH_PROTECT(lev_alloc)
 403:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()    SYS_ARCH_UNPROTECT(lev_alloc)
 404:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE       volatile
 405:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 406:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 407:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 408:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Protect the heap only by using a mutex */
 409:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_DECL_PROTECT()
 410:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_PROTECT()    sys_mutex_lock(&mem_mutex)
 411:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_FREE_UNPROTECT()  sys_mutex_unlock(&mem_mutex)
 412:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* mem_malloc is protected using mutex AND LWIP_MEM_ALLOC_PROTECT */
 413:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_DECL_PROTECT()
 414:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_PROTECT()
 415:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_ALLOC_UNPROTECT()
 416:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define LWIP_MEM_LFREE_VOLATILE
 417:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 418:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 419:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 420:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /** pointer to the lowest free block, this is used for faster search */
 421:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem * LWIP_MEM_LFREE_VOLATILE lfree;
 422:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 423:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 424:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static void mem_sanity(void);
 425:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY() mem_sanity()
 426:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else
 427:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define MEM_SANITY()
 428:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 429:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 430:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
ARM GAS  /tmp/ccT91cjR.s 			page 9


 431:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 432:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_init_element(struct mem *mem, mem_size_t user_size)
 433:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 434:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 435:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->user_size = user_size;
 436:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_raw(p, user_size);
 437:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 438:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 439:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 440:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_overflow_check_element(struct mem *mem)
 441:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 442:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p = (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 443:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_raw(p, mem->user_size, "heap", "");
 444:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 445:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_OVERFLOW_CHECK */
 446:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_init_element(mem, size)
 447:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #define mem_overflow_check_element(mem)
 448:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_OVERFLOW_CHECK */
 449:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 450:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static struct mem *
 451:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** ptr_to_mem(mem_size_t ptr)
 452:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  28              		.loc 1 452 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 453:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (struct mem *)(void *)&ram[ptr];
  33              		.loc 1 453 3 view .LVU1
  34              		.loc 1 453 32 is_stmt 0 view .LVU2
  35 0000 014B     		ldr	r3, .L2
  36 0002 1B68     		ldr	r3, [r3]
 454:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  37              		.loc 1 454 1 view .LVU3
  38 0004 1844     		add	r0, r0, r3
  39              	.LVL1:
  40              		.loc 1 454 1 view .LVU4
  41 0006 7047     		bx	lr
  42              	.L3:
  43              		.align	2
  44              	.L2:
  45 0008 00000000 		.word	ram
  46              		.cfi_endproc
  47              	.LFE170:
  49              		.section	.text.mem_to_ptr,"ax",%progbits
  50              		.align	1
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  55              	mem_to_ptr:
  56              	.LVL2:
  57              	.LFB171:
 455:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 456:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static mem_size_t
 457:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_to_ptr(void *mem)
 458:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  58              		.loc 1 458 1 is_stmt 1 view -0
ARM GAS  /tmp/ccT91cjR.s 			page 10


  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		@ link register save eliminated.
 459:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return (mem_size_t)((u8_t *)mem - ram);
  63              		.loc 1 459 3 view .LVU6
  64              		.loc 1 459 35 is_stmt 0 view .LVU7
  65 0000 024B     		ldr	r3, .L5
  66 0002 1B68     		ldr	r3, [r3]
  67 0004 C01A     		subs	r0, r0, r3
  68              	.LVL3:
 460:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
  69              		.loc 1 460 1 view .LVU8
  70 0006 80B2     		uxth	r0, r0
  71 0008 7047     		bx	lr
  72              	.L6:
  73 000a 00BF     		.align	2
  74              	.L5:
  75 000c 00000000 		.word	ram
  76              		.cfi_endproc
  77              	.LFE171:
  79              		.section	.text.mem_link_valid,"ax",%progbits
  80              		.align	1
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  85              	mem_link_valid:
  86              	.LVL4:
  87              	.LFB174:
 461:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 462:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 463:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * "Plug holes" by combining adjacent empty struct mems.
 464:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * After this function is through, there should not exist
 465:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * one empty struct mem pointing to another empty struct mem.
 466:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 467:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param mem this points to a struct mem which just has been freed
 468:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @internal this function is only called by mem_free() and mem_trim()
 469:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 470:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * This assumes access to the heap is protected by the calling function
 471:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * already.
 472:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 473:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 474:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** plug_holes(struct mem *mem)
 475:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 476:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 477:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 478:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem >= ram", (u8_t *)mem >= ram);
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 482:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 483:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole forward */
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->next <= MEM_SIZE_ALIGNED", mem->next <= MEM_SIZE_ALIGNED);
 485:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 486:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 488:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
ARM GAS  /tmp/ccT91cjR.s 			page 11


 489:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == nmem) {
 490:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 491:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 492:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = nmem->next;
 493:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 494:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 495:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 496:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 497:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 498:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* plug hole backward */
 499:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 500:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 501:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 502:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem) {
 503:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 504:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 505:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     pmem->next = mem->next;
 506:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 507:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 508:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 509:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 510:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 511:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 512:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 513:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Zero the heap and initialize start, end and lowest-free
 514:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 515:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 516:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_init(void)
 517:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 518:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 519:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 520:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("Sanity check alignment",
 521:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 522:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 523:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* align the heap */
 524:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram = (u8_t *)LWIP_MEM_ALIGN(LWIP_RAM_HEAP_POINTER);
 525:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 526:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)ram;
 527:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 528:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 529:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 530:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 531:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end = ptr_to_mem(MEM_SIZE_ALIGNED);
 532:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 533:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 534:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 535:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 536:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 537:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the lowest-free pointer to the start of the heap */
 538:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   lfree = (struct mem *)(void *)ram;
 539:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 540:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_AVAIL(avail, MEM_SIZE_ALIGNED);
 541:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 542:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (sys_mutex_new(&mem_mutex) != ERR_OK) {
 543:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 544:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 545:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
ARM GAS  /tmp/ccT91cjR.s 			page 12


 546:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 547:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /* Check if a struct mem is correctly linked.
 548:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * If not, double-free is a possible reason.
 549:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 550:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static int
 551:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_link_valid(struct mem *mem)
 552:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
  88              		.loc 1 552 1 is_stmt 1 view -0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              		.loc 1 552 1 is_stmt 0 view .LVU10
  93 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  94              	.LCFI0:
  95              		.cfi_def_cfa_offset 24
  96              		.cfi_offset 3, -24
  97              		.cfi_offset 4, -20
  98              		.cfi_offset 5, -16
  99              		.cfi_offset 6, -12
 100              		.cfi_offset 7, -8
 101              		.cfi_offset 14, -4
 102 0002 0446     		mov	r4, r0
 553:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem, *pmem;
 103              		.loc 1 553 3 is_stmt 1 view .LVU11
 554:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t rmem_idx;
 104              		.loc 1 554 3 view .LVU12
 555:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   rmem_idx = mem_to_ptr(mem);
 105              		.loc 1 555 3 view .LVU13
 106              		.loc 1 555 14 is_stmt 0 view .LVU14
 107 0004 FFF7FEFF 		bl	mem_to_ptr
 108              	.LVL5:
 109              		.loc 1 555 14 view .LVU15
 110 0008 0746     		mov	r7, r0
 111              	.LVL6:
 556:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   nmem = ptr_to_mem(mem->next);
 112              		.loc 1 556 3 is_stmt 1 view .LVU16
 113              		.loc 1 556 10 is_stmt 0 view .LVU17
 114 000a 2588     		ldrh	r5, [r4]
 115 000c 2846     		mov	r0, r5
 116 000e FFF7FEFF 		bl	ptr_to_mem
 117              	.LVL7:
 118 0012 0646     		mov	r6, r0
 119              	.LVL8:
 557:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   pmem = ptr_to_mem(mem->prev);
 120              		.loc 1 557 3 is_stmt 1 view .LVU18
 121              		.loc 1 557 10 is_stmt 0 view .LVU19
 122 0014 6488     		ldrh	r4, [r4, #2]
 123              	.LVL9:
 124              		.loc 1 557 10 view .LVU20
 125 0016 2046     		mov	r0, r4
 126              	.LVL10:
 127              		.loc 1 557 10 view .LVU21
 128 0018 FFF7FEFF 		bl	ptr_to_mem
 129              	.LVL11:
 558:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((mem->next > MEM_SIZE_ALIGNED) || (mem->prev > MEM_SIZE_ALIGNED) ||
 130              		.loc 1 558 3 is_stmt 1 view .LVU22
 131              		.loc 1 558 6 is_stmt 0 view .LVU23
ARM GAS  /tmp/ccT91cjR.s 			page 13


 132 001c B5F5C86F 		cmp	r5, #1600
 133 0020 10D8     		bhi	.L10
 134              		.loc 1 558 38 discriminator 1 view .LVU24
 135 0022 B4F5C86F 		cmp	r4, #1600
 136 0026 0FD8     		bhi	.L11
 137              		.loc 1 558 72 discriminator 2 view .LVU25
 138 0028 BC42     		cmp	r4, r7
 139 002a 02D0     		beq	.L9
 559:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 140              		.loc 1 559 40 view .LVU26
 141 002c 0388     		ldrh	r3, [r0]
 142              		.loc 1 559 32 view .LVU27
 143 002e BB42     		cmp	r3, r7
 144 0030 0CD1     		bne	.L12
 145              	.L9:
 560:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((nmem != ram_end) && (nmem->prev != rmem_idx))) {
 146              		.loc 1 560 14 view .LVU28
 147 0032 094B     		ldr	r3, .L16
 148 0034 1B68     		ldr	r3, [r3]
 559:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ((mem->prev != rmem_idx) && (pmem->next != rmem_idx)) ||
 149              		.loc 1 559 61 discriminator 1 view .LVU29
 150 0036 B342     		cmp	r3, r6
 151 0038 0AD0     		beq	.L13
 152              		.loc 1 560 34 view .LVU30
 153 003a 7388     		ldrh	r3, [r6, #2]
 154              		.loc 1 560 26 view .LVU31
 155 003c BB42     		cmp	r3, r7
 156 003e 09D1     		bne	.L14
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 562:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 563:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return 1;
 157              		.loc 1 563 10 view .LVU32
 158 0040 0120     		movs	r0, #1
 159              	.LVL12:
 160              		.loc 1 563 10 view .LVU33
 161 0042 00E0     		b	.L7
 162              	.LVL13:
 163              	.L10:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 164              		.loc 1 561 12 view .LVU34
 165 0044 0020     		movs	r0, #0
 166              	.LVL14:
 167              	.L7:
 564:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 168              		.loc 1 564 1 view .LVU35
 169 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 170              	.LVL15:
 171              	.L11:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 172              		.loc 1 561 12 view .LVU36
 173 0048 0020     		movs	r0, #0
 174              	.LVL16:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 175              		.loc 1 561 12 view .LVU37
 176 004a FCE7     		b	.L7
 177              	.LVL17:
 178              	.L12:
ARM GAS  /tmp/ccT91cjR.s 			page 14


 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 179              		.loc 1 561 12 view .LVU38
 180 004c 0020     		movs	r0, #0
 181              	.LVL18:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 182              		.loc 1 561 12 view .LVU39
 183 004e FAE7     		b	.L7
 184              	.LVL19:
 185              	.L13:
 563:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 186              		.loc 1 563 10 view .LVU40
 187 0050 0120     		movs	r0, #1
 188              	.LVL20:
 563:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 189              		.loc 1 563 10 view .LVU41
 190 0052 F8E7     		b	.L7
 191              	.LVL21:
 192              	.L14:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 193              		.loc 1 561 12 view .LVU42
 194 0054 0020     		movs	r0, #0
 195              	.LVL22:
 561:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return 0;
 196              		.loc 1 561 12 view .LVU43
 197 0056 F6E7     		b	.L7
 198              	.L17:
 199              		.align	2
 200              	.L16:
 201 0058 00000000 		.word	ram_end
 202              		.cfi_endproc
 203              	.LFE174:
 205              		.section	.rodata.plug_holes.str1.4,"aMS",%progbits,1
 206              		.align	2
 207              	.LC0:
 208 0000 2E2E2F2E 		.ascii	"../../Middlewares/Third_Party/LwIP/src/core/mem.c\000"
 208      2E2F4D69 
 208      64646C65 
 208      77617265 
 208      732F5468 
 209 0032 0000     		.align	2
 210              	.LC1:
 211 0034 706C7567 		.ascii	"plug_holes: mem >= ram\000"
 211      5F686F6C 
 211      65733A20 
 211      6D656D20 
 211      3E3D2072 
 212 004b 00       		.align	2
 213              	.LC2:
 214 004c 41737365 		.ascii	"Assertion \"%s\" failed at line %d in %s\012\000"
 214      7274696F 
 214      6E202225 
 214      73222066 
 214      61696C65 
 215              		.align	2
 216              	.LC3:
 217 0074 706C7567 		.ascii	"plug_holes: mem < ram_end\000"
 217      5F686F6C 
ARM GAS  /tmp/ccT91cjR.s 			page 15


 217      65733A20 
 217      6D656D20 
 217      3C207261 
 218 008e 0000     		.align	2
 219              	.LC4:
 220 0090 706C7567 		.ascii	"plug_holes: mem->used == 0\000"
 220      5F686F6C 
 220      65733A20 
 220      6D656D2D 
 220      3E757365 
 221 00ab 00       		.align	2
 222              	.LC5:
 223 00ac 706C7567 		.ascii	"plug_holes: mem->next <= MEM_SIZE_ALIGNED\000"
 223      5F686F6C 
 223      65733A20 
 223      6D656D2D 
 223      3E6E6578 
 224              		.section	.text.plug_holes,"ax",%progbits
 225              		.align	1
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 230              	plug_holes:
 231              	.LVL23:
 232              	.LFB172:
 475:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 233              		.loc 1 475 1 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 475:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *nmem;
 237              		.loc 1 475 1 is_stmt 0 view .LVU45
 238 0000 38B5     		push	{r3, r4, r5, lr}
 239              	.LCFI1:
 240              		.cfi_def_cfa_offset 16
 241              		.cfi_offset 3, -16
 242              		.cfi_offset 4, -12
 243              		.cfi_offset 5, -8
 244              		.cfi_offset 14, -4
 245 0002 0446     		mov	r4, r0
 476:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *pmem;
 246              		.loc 1 476 3 is_stmt 1 view .LVU46
 477:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 247              		.loc 1 477 3 view .LVU47
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 248              		.loc 1 479 3 view .LVU48
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 249              		.loc 1 479 3 view .LVU49
 250 0004 344B     		ldr	r3, .L34
 251 0006 1B68     		ldr	r3, [r3]
 252 0008 8342     		cmp	r3, r0
 253 000a 3ED8     		bhi	.L28
 254              	.LVL24:
 255              	.L19:
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 256              		.loc 1 479 3 discriminator 3 view .LVU50
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
ARM GAS  /tmp/ccT91cjR.s 			page 16


 257              		.loc 1 479 3 discriminator 3 view .LVU51
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 258              		.loc 1 480 3 view .LVU52
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 259              		.loc 1 480 3 view .LVU53
 260 000c 334B     		ldr	r3, .L34+4
 261 000e 1B68     		ldr	r3, [r3]
 262 0010 A342     		cmp	r3, r4
 263 0012 42D9     		bls	.L29
 264              	.L20:
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 265              		.loc 1 480 3 discriminator 3 view .LVU54
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 266              		.loc 1 480 3 discriminator 3 view .LVU55
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 267              		.loc 1 481 3 view .LVU56
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 268              		.loc 1 481 3 view .LVU57
 269 0014 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 270 0016 002B     		cmp	r3, #0
 271 0018 47D1     		bne	.L30
 272              	.L21:
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 273              		.loc 1 481 3 discriminator 3 view .LVU58
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 274              		.loc 1 481 3 discriminator 3 view .LVU59
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 275              		.loc 1 484 3 view .LVU60
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 276              		.loc 1 484 3 view .LVU61
 277 001a 2388     		ldrh	r3, [r4]
 278 001c B3F5C86F 		cmp	r3, #1600
 279 0020 4BD8     		bhi	.L31
 280              	.L22:
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 281              		.loc 1 484 3 discriminator 3 view .LVU62
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 282              		.loc 1 484 3 discriminator 3 view .LVU63
 486:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 283              		.loc 1 486 3 view .LVU64
 486:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem != nmem && nmem->used == 0 && (u8_t *)nmem != (u8_t *)ram_end) {
 284              		.loc 1 486 10 is_stmt 0 view .LVU65
 285 0022 2088     		ldrh	r0, [r4]
 286 0024 FFF7FEFF 		bl	ptr_to_mem
 287              	.LVL25:
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 288              		.loc 1 487 3 is_stmt 1 view .LVU66
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 289              		.loc 1 487 6 is_stmt 0 view .LVU67
 290 0028 8442     		cmp	r4, r0
 291 002a 15D0     		beq	.L23
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 292              		.loc 1 487 26 discriminator 1 view .LVU68
 293 002c 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 294              		.loc 1 487 19 discriminator 1 view .LVU69
 295 002e 9BB9     		cbnz	r3, .L23
ARM GAS  /tmp/ccT91cjR.s 			page 17


 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 296              		.loc 1 487 57 discriminator 2 view .LVU70
 297 0030 2A4B     		ldr	r3, .L34+4
 298 0032 1B68     		ldr	r3, [r3]
 487:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->next is unused and not end of ram, combine mem and mem->next */
 299              		.loc 1 487 38 discriminator 2 view .LVU71
 300 0034 8342     		cmp	r3, r0
 301 0036 0FD0     		beq	.L23
 489:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 302              		.loc 1 489 5 is_stmt 1 view .LVU72
 489:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 303              		.loc 1 489 15 is_stmt 0 view .LVU73
 304 0038 294B     		ldr	r3, .L34+8
 305 003a 1B68     		ldr	r3, [r3]
 489:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem;
 306              		.loc 1 489 8 view .LVU74
 307 003c 8342     		cmp	r3, r0
 308 003e 44D0     		beq	.L32
 309              	.L24:
 492:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 310              		.loc 1 492 5 is_stmt 1 view .LVU75
 492:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 311              		.loc 1 492 21 is_stmt 0 view .LVU76
 312 0040 0088     		ldrh	r0, [r0]
 313              	.LVL26:
 492:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (nmem->next != MEM_SIZE_ALIGNED) {
 314              		.loc 1 492 15 view .LVU77
 315 0042 2080     		strh	r0, [r4]	@ movhi
 493:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 316              		.loc 1 493 5 is_stmt 1 view .LVU78
 493:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(nmem->next)->prev = mem_to_ptr(mem);
 317              		.loc 1 493 8 is_stmt 0 view .LVU79
 318 0044 B0F5C86F 		cmp	r0, #1600
 319 0048 06D0     		beq	.L23
 494:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 320              		.loc 1 494 7 is_stmt 1 view .LVU80
 321 004a FFF7FEFF 		bl	ptr_to_mem
 322              	.LVL27:
 323 004e 0546     		mov	r5, r0
 494:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 324              		.loc 1 494 38 is_stmt 0 discriminator 1 view .LVU81
 325 0050 2046     		mov	r0, r4
 326 0052 FFF7FEFF 		bl	mem_to_ptr
 327              	.LVL28:
 494:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 328              		.loc 1 494 36 discriminator 2 view .LVU82
 329 0056 6880     		strh	r0, [r5, #2]	@ movhi
 330              	.L23:
 499:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 331              		.loc 1 499 3 is_stmt 1 view .LVU83
 499:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (pmem != mem && pmem->used == 0) {
 332              		.loc 1 499 10 is_stmt 0 view .LVU84
 333 0058 6088     		ldrh	r0, [r4, #2]
 334 005a FFF7FEFF 		bl	ptr_to_mem
 335              	.LVL29:
 336 005e 0546     		mov	r5, r0
 337              	.LVL30:
ARM GAS  /tmp/ccT91cjR.s 			page 18


 500:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 338              		.loc 1 500 3 is_stmt 1 view .LVU85
 500:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 339              		.loc 1 500 6 is_stmt 0 view .LVU86
 340 0060 8442     		cmp	r4, r0
 341 0062 11D0     		beq	.L18
 500:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 342              		.loc 1 500 26 discriminator 1 view .LVU87
 343 0064 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 500:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if mem->prev is unused, combine mem and mem->prev */
 344              		.loc 1 500 19 discriminator 1 view .LVU88
 345 0066 7BB9     		cbnz	r3, .L18
 502:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 346              		.loc 1 502 5 is_stmt 1 view .LVU89
 502:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 347              		.loc 1 502 15 is_stmt 0 view .LVU90
 348 0068 1D4B     		ldr	r3, .L34+8
 349 006a 1B68     		ldr	r3, [r3]
 502:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = pmem;
 350              		.loc 1 502 8 view .LVU91
 351 006c A342     		cmp	r3, r4
 352 006e 2FD0     		beq	.L33
 353              	.L26:
 505:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 354              		.loc 1 505 5 is_stmt 1 view .LVU92
 505:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 355              		.loc 1 505 21 is_stmt 0 view .LVU93
 356 0070 2088     		ldrh	r0, [r4]
 357              	.LVL31:
 505:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem->next != MEM_SIZE_ALIGNED) {
 358              		.loc 1 505 16 view .LVU94
 359 0072 2880     		strh	r0, [r5]	@ movhi
 506:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 360              		.loc 1 506 5 is_stmt 1 view .LVU95
 506:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem->next)->prev = mem_to_ptr(pmem);
 361              		.loc 1 506 8 is_stmt 0 view .LVU96
 362 0074 B0F5C86F 		cmp	r0, #1600
 363 0078 06D0     		beq	.L18
 507:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 364              		.loc 1 507 7 is_stmt 1 view .LVU97
 365 007a FFF7FEFF 		bl	ptr_to_mem
 366              	.LVL32:
 367 007e 0446     		mov	r4, r0
 368              	.LVL33:
 507:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 369              		.loc 1 507 37 is_stmt 0 discriminator 1 view .LVU98
 370 0080 2846     		mov	r0, r5
 371 0082 FFF7FEFF 		bl	mem_to_ptr
 372              	.LVL34:
 507:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 373              		.loc 1 507 35 discriminator 2 view .LVU99
 374 0086 6080     		strh	r0, [r4, #2]	@ movhi
 375              	.L18:
 510:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 376              		.loc 1 510 1 view .LVU100
 377 0088 38BD     		pop	{r3, r4, r5, pc}
 378              	.LVL35:
ARM GAS  /tmp/ccT91cjR.s 			page 19


 379              	.L28:
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 380              		.loc 1 479 3 is_stmt 1 discriminator 1 view .LVU101
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 381              		.loc 1 479 3 discriminator 1 view .LVU102
 382 008a 164B     		ldr	r3, .L34+12
 383 008c 40F2DF12 		movw	r2, #479
 384 0090 1549     		ldr	r1, .L34+16
 385 0092 1648     		ldr	r0, .L34+20
 386              	.LVL36:
 479:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem < ram_end", (u8_t *)mem < (u8_t *)ram_end);
 387              		.loc 1 479 3 is_stmt 0 discriminator 1 view .LVU103
 388 0094 FFF7FEFF 		bl	printf
 389              	.LVL37:
 390 0098 B8E7     		b	.L19
 391              	.L29:
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 392              		.loc 1 480 3 is_stmt 1 discriminator 1 view .LVU104
 480:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("plug_holes: mem->used == 0", mem->used == 0);
 393              		.loc 1 480 3 discriminator 1 view .LVU105
 394 009a 124B     		ldr	r3, .L34+12
 395 009c 4FF4F072 		mov	r2, #480
 396 00a0 1349     		ldr	r1, .L34+24
 397 00a2 1248     		ldr	r0, .L34+20
 398 00a4 FFF7FEFF 		bl	printf
 399              	.LVL38:
 400 00a8 B4E7     		b	.L20
 401              	.L30:
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 402              		.loc 1 481 3 discriminator 1 view .LVU106
 481:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 403              		.loc 1 481 3 discriminator 1 view .LVU107
 404 00aa 0E4B     		ldr	r3, .L34+12
 405 00ac 40F2E112 		movw	r2, #481
 406 00b0 1049     		ldr	r1, .L34+28
 407 00b2 0E48     		ldr	r0, .L34+20
 408 00b4 FFF7FEFF 		bl	printf
 409              	.LVL39:
 410 00b8 AFE7     		b	.L21
 411              	.L31:
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 412              		.loc 1 484 3 discriminator 1 view .LVU108
 484:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 413              		.loc 1 484 3 discriminator 1 view .LVU109
 414 00ba 0A4B     		ldr	r3, .L34+12
 415 00bc 4FF4F272 		mov	r2, #484
 416 00c0 0D49     		ldr	r1, .L34+32
 417 00c2 0A48     		ldr	r0, .L34+20
 418 00c4 FFF7FEFF 		bl	printf
 419              	.LVL40:
 420 00c8 ABE7     		b	.L22
 421              	.LVL41:
 422              	.L32:
 490:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 423              		.loc 1 490 7 view .LVU110
 490:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 424              		.loc 1 490 13 is_stmt 0 view .LVU111
ARM GAS  /tmp/ccT91cjR.s 			page 20


 425 00ca 054B     		ldr	r3, .L34+8
 426 00cc 1C60     		str	r4, [r3]
 427 00ce B7E7     		b	.L24
 428              	.LVL42:
 429              	.L33:
 503:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 430              		.loc 1 503 7 is_stmt 1 view .LVU112
 503:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 431              		.loc 1 503 13 is_stmt 0 view .LVU113
 432 00d0 034B     		ldr	r3, .L34+8
 433 00d2 1860     		str	r0, [r3]
 434 00d4 CCE7     		b	.L26
 435              	.L35:
 436 00d6 00BF     		.align	2
 437              	.L34:
 438 00d8 00000000 		.word	ram
 439 00dc 00000000 		.word	ram_end
 440 00e0 00000000 		.word	lfree
 441 00e4 00000000 		.word	.LC0
 442 00e8 34000000 		.word	.LC1
 443 00ec 4C000000 		.word	.LC2
 444 00f0 74000000 		.word	.LC3
 445 00f4 90000000 		.word	.LC4
 446 00f8 AC000000 		.word	.LC5
 447              		.cfi_endproc
 448              	.LFE172:
 450              		.section	.text.mem_init,"ax",%progbits
 451              		.align	1
 452              		.global	mem_init
 453              		.syntax unified
 454              		.thumb
 455              		.thumb_func
 457              	mem_init:
 458              	.LFB173:
 517:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 459              		.loc 1 517 1 is_stmt 1 view -0
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 0
 462              		@ frame_needed = 0, uses_anonymous_args = 0
 463 0000 38B5     		push	{r3, r4, r5, lr}
 464              	.LCFI2:
 465              		.cfi_def_cfa_offset 16
 466              		.cfi_offset 3, -16
 467              		.cfi_offset 4, -12
 468              		.cfi_offset 5, -8
 469              		.cfi_offset 14, -4
 518:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 470              		.loc 1 518 3 view .LVU115
 520:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 471              		.loc 1 520 3 view .LVU116
 520:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 472              		.loc 1 520 3 view .LVU117
 520:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 473              		.loc 1 520 3 discriminator 3 view .LVU118
 520:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (SIZEOF_STRUCT_MEM & (MEM_ALIGNMENT - 1)) == 0);
 474              		.loc 1 520 3 discriminator 3 view .LVU119
 524:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
ARM GAS  /tmp/ccT91cjR.s 			page 21


 475              		.loc 1 524 3 view .LVU120
 524:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the start of the heap */
 476              		.loc 1 524 7 is_stmt 0 view .LVU121
 477 0002 0B4D     		ldr	r5, .L38
 478 0004 0B4B     		ldr	r3, .L38+4
 479 0006 2B60     		str	r3, [r5]
 526:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->next = MEM_SIZE_ALIGNED;
 480              		.loc 1 526 3 is_stmt 1 view .LVU122
 481              	.LVL43:
 527:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 482              		.loc 1 527 3 view .LVU123
 527:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->prev = 0;
 483              		.loc 1 527 13 is_stmt 0 view .LVU124
 484 0008 4FF4C864 		mov	r4, #1600
 485 000c 1C80     		strh	r4, [r3]	@ movhi
 528:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 486              		.loc 1 528 3 is_stmt 1 view .LVU125
 528:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 487              		.loc 1 528 13 is_stmt 0 view .LVU126
 488 000e 0022     		movs	r2, #0
 489 0010 5A80     		strh	r2, [r3, #2]	@ movhi
 529:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 490              		.loc 1 529 3 is_stmt 1 view .LVU127
 529:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* initialize the end of the heap */
 491              		.loc 1 529 13 is_stmt 0 view .LVU128
 492 0012 1A71     		strb	r2, [r3, #4]
 531:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 493              		.loc 1 531 3 is_stmt 1 view .LVU129
 531:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 494              		.loc 1 531 13 is_stmt 0 view .LVU130
 495 0014 2046     		mov	r0, r4
 496 0016 FFF7FEFF 		bl	ptr_to_mem
 497              	.LVL44:
 531:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->used = 1;
 498              		.loc 1 531 11 discriminator 1 view .LVU131
 499 001a 074B     		ldr	r3, .L38+8
 500 001c 1860     		str	r0, [r3]
 532:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 501              		.loc 1 532 3 is_stmt 1 view .LVU132
 532:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->next = MEM_SIZE_ALIGNED;
 502              		.loc 1 532 17 is_stmt 0 view .LVU133
 503 001e 0123     		movs	r3, #1
 504 0020 0371     		strb	r3, [r0, #4]
 533:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 505              		.loc 1 533 3 is_stmt 1 view .LVU134
 533:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ram_end->prev = MEM_SIZE_ALIGNED;
 506              		.loc 1 533 17 is_stmt 0 view .LVU135
 507 0022 0480     		strh	r4, [r0]	@ movhi
 534:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 508              		.loc 1 534 3 is_stmt 1 view .LVU136
 534:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 509              		.loc 1 534 17 is_stmt 0 view .LVU137
 510 0024 4480     		strh	r4, [r0, #2]	@ movhi
 535:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 511              		.loc 1 535 15 is_stmt 1 view .LVU138
 538:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 512              		.loc 1 538 3 view .LVU139
ARM GAS  /tmp/ccT91cjR.s 			page 22


 538:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 513              		.loc 1 538 9 is_stmt 0 view .LVU140
 514 0026 2A68     		ldr	r2, [r5]
 515 0028 044B     		ldr	r3, .L38+12
 516 002a 1A60     		str	r2, [r3]
 540:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 517              		.loc 1 540 43 is_stmt 1 view .LVU141
 542:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("failed to create mem_mutex", 0);
 518              		.loc 1 542 3 view .LVU142
 543:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 519              		.loc 1 543 5 discriminator 3 view .LVU143
 543:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 520              		.loc 1 543 5 discriminator 3 view .LVU144
 545:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 521              		.loc 1 545 1 is_stmt 0 view .LVU145
 522 002c 38BD     		pop	{r3, r4, r5, pc}
 523              	.L39:
 524 002e 00BF     		.align	2
 525              	.L38:
 526 0030 00000000 		.word	ram
 527 0034 00400430 		.word	805584896
 528 0038 00000000 		.word	ram_end
 529 003c 00000000 		.word	lfree
 530              		.cfi_endproc
 531              	.LFE173:
 533              		.section	.rodata.mem_free.str1.4,"aMS",%progbits,1
 534              		.align	2
 535              	.LC6:
 536 0000 6D656D5F 		.ascii	"mem_free: sanity check alignment\000"
 536      66726565 
 536      3A207361 
 536      6E697479 
 536      20636865 
 537 0021 000000   		.align	2
 538              	.LC7:
 539 0024 6D656D5F 		.ascii	"mem_free: illegal memory\000"
 539      66726565 
 539      3A20696C 
 539      6C656761 
 539      6C206D65 
 540 003d 000000   		.align	2
 541              	.LC8:
 542 0040 6D656D5F 		.ascii	"mem_free: illegal memory: double free\000"
 542      66726565 
 542      3A20696C 
 542      6C656761 
 542      6C206D65 
 543 0066 0000     		.align	2
 544              	.LC9:
 545 0068 6D656D5F 		.ascii	"mem_free: illegal memory: non-linked: double free\000"
 545      66726565 
 545      3A20696C 
 545      6C656761 
 545      6C206D65 
 546              		.section	.text.mem_free,"ax",%progbits
 547              		.align	1
 548              		.global	mem_free
ARM GAS  /tmp/ccT91cjR.s 			page 23


 549              		.syntax unified
 550              		.thumb
 551              		.thumb_func
 553              	mem_free:
 554              	.LVL45:
 555              	.LFB175:
 565:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 566:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_SANITY_CHECK
 567:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** static void
 568:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_sanity(void)
 569:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 570:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 571:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t last_used;
 572:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 573:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* begin with first element here */
 574:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)ram;
 575:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", (mem->used == 0) || (mem->used == 1));
 576:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   last_used = mem->used;
 577:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == 0);
 578:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 579:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem(m
 580:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 581:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* check all elements before the end of the heap */
 582:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   for (mem = ptr_to_mem(mem->next);
 583:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****        ((u8_t *)mem > ram) && (mem < ram_end);
 584:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****        mem = ptr_to_mem(mem->next)) {
 585:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element aligned", LWIP_MEM_ALIGN(mem) == mem);
 586:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr valid", mem->prev <= MEM_SIZE_ALIGNED);
 587:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr valid", mem->next <= MEM_SIZE_ALIGNED);
 588:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element prev ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->prev) == ptr_to_mem
 589:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element next ptr aligned", LWIP_MEM_ALIGN(ptr_to_mem(mem->next) == ptr_to_mem
 590:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 591:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (last_used == 0) {
 592:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* 2 unused elements in a row? */
 593:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused?", mem->used == 1);
 594:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     } else {
 595:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_ASSERT("heap element unused member", (mem->used == 0) || (mem->used == 1));
 596:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 597:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 598:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("heap element link valid", mem_link_valid(mem));
 599:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 600:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* used/unused altering */
 601:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     last_used = mem->used;
 602:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 603:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap end ptr sanity", mem == ptr_to_mem(MEM_SIZE_ALIGNED));
 604:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element used valid", mem->used == 1);
 605:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element prev ptr valid", mem->prev == MEM_SIZE_ALIGNED);
 606:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("heap element next ptr valid", mem->next == MEM_SIZE_ALIGNED);
 607:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 608:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_SANITY_CHECK */
 609:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 610:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 611:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Put a struct mem back on the heap
 612:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 613:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem is the data portion of a struct mem as returned by a previous
 614:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *             call to mem_malloc()
 615:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
ARM GAS  /tmp/ccT91cjR.s 			page 24


 616:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void
 617:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_free(void *rmem)
 618:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 556              		.loc 1 618 1 is_stmt 1 view -0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 0
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 619:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 560              		.loc 1 619 3 view .LVU147
 620:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 561              		.loc 1 620 31 view .LVU148
 621:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 622:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (rmem == NULL) {
 562              		.loc 1 622 3 view .LVU149
 563              		.loc 1 622 6 is_stmt 0 view .LVU150
 564 0000 0028     		cmp	r0, #0
 565 0002 44D0     		beq	.L49
 618:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem;
 566              		.loc 1 618 1 view .LVU151
 567 0004 38B5     		push	{r3, r4, r5, lr}
 568              	.LCFI3:
 569              		.cfi_def_cfa_offset 16
 570              		.cfi_offset 3, -16
 571              		.cfi_offset 4, -12
 572              		.cfi_offset 5, -8
 573              		.cfi_offset 14, -4
 574 0006 0446     		mov	r4, r0
 623:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_TRACE | LWIP_DBG_LEVEL_SERIOUS, ("mem_free(p == NULL) was call
 624:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 625:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 626:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((((mem_ptr_t)rmem) & (MEM_ALIGNMENT - 1)) != 0) {
 575              		.loc 1 626 3 is_stmt 1 view .LVU152
 576              		.loc 1 626 6 is_stmt 0 view .LVU153
 577 0008 10F0030F 		tst	r0, #3
 578 000c 1FD1     		bne	.L52
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: sanity check alignment");
 628:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 629:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 630:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 631:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 632:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 633:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 634:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem: */
 635:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 636:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 579              		.loc 1 636 3 is_stmt 1 view .LVU154
 580              		.loc 1 636 7 is_stmt 0 view .LVU155
 581 000e A0F10805 		sub	r5, r0, #8
 582              	.LVL46:
 637:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 638:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)mem < ram || (u8_t *)rmem + MIN_SIZE_ALIGNED > (u8_t *)ram_end) {
 583              		.loc 1 638 3 is_stmt 1 view .LVU156
 584              		.loc 1 638 19 is_stmt 0 view .LVU157
 585 0012 1F4B     		ldr	r3, .L55
 586 0014 1B68     		ldr	r3, [r3]
 587              		.loc 1 638 6 view .LVU158
 588 0016 AB42     		cmp	r3, r5
ARM GAS  /tmp/ccT91cjR.s 			page 25


 589 0018 21D8     		bhi	.L43
 590              		.loc 1 638 41 discriminator 1 view .LVU159
 591 001a 00F10C03 		add	r3, r0, #12
 592              		.loc 1 638 62 discriminator 1 view .LVU160
 593 001e 1D4A     		ldr	r2, .L55+4
 594 0020 1268     		ldr	r2, [r2]
 595              		.loc 1 638 25 discriminator 1 view .LVU161
 596 0022 9342     		cmp	r3, r2
 597 0024 1BD8     		bhi	.L43
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory");
 640:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 641:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 642:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 643:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 644:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 645:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 646:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 647:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 648:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 649:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 598              		.loc 1 649 26 is_stmt 1 view .LVU162
 650:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem has to be in a used state */
 651:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem->used) {
 599              		.loc 1 651 3 view .LVU163
 600              		.loc 1 651 11 is_stmt 0 view .LVU164
 601 0026 10F8043C 		ldrb	r3, [r0, #-4]	@ zero_extendqisi2
 602              		.loc 1 651 6 view .LVU165
 603 002a 03B3     		cbz	r3, .L53
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: double free");
 653:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 654:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 655:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 656:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 657:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 658:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 659:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 660:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (!mem_link_valid(mem)) {
 604              		.loc 1 660 3 is_stmt 1 view .LVU166
 605              		.loc 1 660 8 is_stmt 0 view .LVU167
 606 002c 2846     		mov	r0, r5
 607              	.LVL47:
 608              		.loc 1 660 8 view .LVU168
 609 002e FFF7FEFF 		bl	mem_link_valid
 610              	.LVL48:
 611              		.loc 1 660 6 discriminator 1 view .LVU169
 612 0032 20B3     		cbz	r0, .L54
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_ILLEGAL_FREE("mem_free: illegal memory: non-linked: double free");
 662:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 663:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 664:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 665:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 666:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 667:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 668:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 669:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* mem is now unused. */
 670:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem->used = 0;
 613              		.loc 1 670 3 is_stmt 1 view .LVU170
ARM GAS  /tmp/ccT91cjR.s 			page 26


 614              		.loc 1 670 13 is_stmt 0 view .LVU171
 615 0034 0023     		movs	r3, #0
 616 0036 04F8043C 		strb	r3, [r4, #-4]
 671:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 672:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem < lfree) {
 617              		.loc 1 672 3 is_stmt 1 view .LVU172
 618              		.loc 1 672 11 is_stmt 0 view .LVU173
 619 003a 174B     		ldr	r3, .L55+8
 620 003c 1B68     		ldr	r3, [r3]
 621              		.loc 1 672 6 view .LVU174
 622 003e AB42     		cmp	r3, r5
 623 0040 01D9     		bls	.L47
 673:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the newly freed struct is now the lowest */
 674:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     lfree = mem;
 624              		.loc 1 674 5 is_stmt 1 view .LVU175
 625              		.loc 1 674 11 is_stmt 0 view .LVU176
 626 0042 154B     		ldr	r3, .L55+8
 627 0044 1D60     		str	r5, [r3]
 628              	.L47:
 675:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 676:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 677:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_DEC_USED(used, mem->next - (mem_size_t)(((u8_t *)mem - ram)));
 629              		.loc 1 677 74 is_stmt 1 view .LVU177
 678:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 679:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* finally, see if prev or next are free also */
 680:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   plug_holes(mem);
 630              		.loc 1 680 3 view .LVU178
 631 0046 2846     		mov	r0, r5
 632 0048 FFF7FEFF 		bl	plug_holes
 633              	.LVL49:
 681:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 634              		.loc 1 681 15 view .LVU179
 682:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 683:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 684:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 685:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 635              		.loc 1 685 28 view .LVU180
 636 004c 0EE0     		b	.L40
 637              	.LVL50:
 638              	.L52:
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 639              		.loc 1 627 5 view .LVU181
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 640              		.loc 1 627 5 view .LVU182
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 641              		.loc 1 627 5 discriminator 1 view .LVU183
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 642              		.loc 1 627 5 discriminator 1 view .LVU184
 643 004e 134B     		ldr	r3, .L55+12
 644 0050 40F27322 		movw	r2, #627
 645 0054 1249     		ldr	r1, .L55+16
 646 0056 1348     		ldr	r0, .L55+20
 647              	.LVL51:
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 648              		.loc 1 627 5 is_stmt 0 discriminator 1 view .LVU185
 649 0058 FFF7FEFF 		bl	printf
 650              	.LVL52:
ARM GAS  /tmp/ccT91cjR.s 			page 27


 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 651              		.loc 1 627 5 is_stmt 1 discriminator 3 view .LVU186
 627:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: sanity check alignment\n"));
 652              		.loc 1 627 5 discriminator 3 view .LVU187
 628:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 653              		.loc 1 628 91 view .LVU188
 630:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 654              		.loc 1 630 5 view .LVU189
 630:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 655              		.loc 1 630 5 view .LVU190
 631:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 656              		.loc 1 631 5 view .LVU191
 657 005c 06E0     		b	.L40
 658              	.LVL53:
 659              	.L43:
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 660              		.loc 1 639 5 view .LVU192
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 661              		.loc 1 639 5 view .LVU193
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 662              		.loc 1 639 5 discriminator 1 view .LVU194
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 663              		.loc 1 639 5 discriminator 1 view .LVU195
 664 005e 0F4B     		ldr	r3, .L55+12
 665 0060 40F27F22 		movw	r2, #639
 666 0064 1049     		ldr	r1, .L55+24
 667 0066 0F48     		ldr	r0, .L55+20
 668              	.LVL54:
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 669              		.loc 1 639 5 is_stmt 0 discriminator 1 view .LVU196
 670 0068 FFF7FEFF 		bl	printf
 671              	.LVL55:
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 672              		.loc 1 639 5 is_stmt 1 discriminator 3 view .LVU197
 639:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory\n"));
 673              		.loc 1 639 5 discriminator 3 view .LVU198
 640:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 674              		.loc 1 640 83 view .LVU199
 642:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 675              		.loc 1 642 5 view .LVU200
 642:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 676              		.loc 1 642 5 view .LVU201
 643:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 677              		.loc 1 643 5 view .LVU202
 678              	.L40:
 686:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 679              		.loc 1 686 1 is_stmt 0 view .LVU203
 680 006c 38BD     		pop	{r3, r4, r5, pc}
 681              	.LVL56:
 682              	.L53:
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 683              		.loc 1 652 5 is_stmt 1 view .LVU204
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 684              		.loc 1 652 5 view .LVU205
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 685              		.loc 1 652 5 discriminator 1 view .LVU206
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
ARM GAS  /tmp/ccT91cjR.s 			page 28


 686              		.loc 1 652 5 discriminator 1 view .LVU207
 687 006e 0B4B     		ldr	r3, .L55+12
 688 0070 4FF42372 		mov	r2, #652
 689 0074 0D49     		ldr	r1, .L55+28
 690 0076 0B48     		ldr	r0, .L55+20
 691              	.LVL57:
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 692              		.loc 1 652 5 is_stmt 0 discriminator 1 view .LVU208
 693 0078 FFF7FEFF 		bl	printf
 694              	.LVL58:
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 695              		.loc 1 652 5 is_stmt 1 discriminator 3 view .LVU209
 652:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 696              		.loc 1 652 5 discriminator 3 view .LVU210
 653:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: double free?\n"));
 697              		.loc 1 653 30 view .LVU211
 654:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 698              		.loc 1 654 97 view .LVU212
 656:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 699              		.loc 1 656 5 view .LVU213
 656:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 700              		.loc 1 656 5 view .LVU214
 657:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 701              		.loc 1 657 5 view .LVU215
 702 007c F6E7     		b	.L40
 703              	.L54:
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 704              		.loc 1 661 5 view .LVU216
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 705              		.loc 1 661 5 view .LVU217
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 706              		.loc 1 661 5 discriminator 1 view .LVU218
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 707              		.loc 1 661 5 discriminator 1 view .LVU219
 708 007e 074B     		ldr	r3, .L55+12
 709 0080 40F29522 		movw	r2, #661
 710 0084 0A49     		ldr	r1, .L55+32
 711 0086 0748     		ldr	r0, .L55+20
 712 0088 FFF7FEFF 		bl	printf
 713              	.LVL59:
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 714              		.loc 1 661 5 discriminator 3 view .LVU220
 661:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_MEM_FREE_UNPROTECT();
 715              		.loc 1 661 5 discriminator 3 view .LVU221
 662:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_free: illegal memory: non-linked: double f
 716              		.loc 1 662 30 view .LVU222
 663:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 717              		.loc 1 663 109 view .LVU223
 665:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 718              		.loc 1 665 5 view .LVU224
 665:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return;
 719              		.loc 1 665 5 view .LVU225
 666:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 720              		.loc 1 666 5 view .LVU226
 721 008c EEE7     		b	.L40
 722              	.LVL60:
 723              	.L49:
ARM GAS  /tmp/ccT91cjR.s 			page 29


 724              	.LCFI4:
 725              		.cfi_def_cfa_offset 0
 726              		.cfi_restore 3
 727              		.cfi_restore 4
 728              		.cfi_restore 5
 729              		.cfi_restore 14
 666:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 730              		.loc 1 666 5 is_stmt 0 view .LVU227
 731 008e 7047     		bx	lr
 732              	.L56:
 733              		.align	2
 734              	.L55:
 735 0090 00000000 		.word	ram
 736 0094 00000000 		.word	ram_end
 737 0098 00000000 		.word	lfree
 738 009c 00000000 		.word	.LC0
 739 00a0 00000000 		.word	.LC6
 740 00a4 4C000000 		.word	.LC2
 741 00a8 24000000 		.word	.LC7
 742 00ac 40000000 		.word	.LC8
 743 00b0 68000000 		.word	.LC9
 744              		.cfi_endproc
 745              	.LFE175:
 747              		.section	.rodata.mem_trim.str1.4,"aMS",%progbits,1
 748              		.align	2
 749              	.LC10:
 750 0000 6D656D5F 		.ascii	"mem_trim: legal memory\000"
 750      7472696D 
 750      3A206C65 
 750      67616C20 
 750      6D656D6F 
 751 0017 00       		.align	2
 752              	.LC11:
 753 0018 6D656D5F 		.ascii	"mem_trim can only shrink memory\000"
 753      7472696D 
 753      2063616E 
 753      206F6E6C 
 753      79207368 
 754              		.align	2
 755              	.LC12:
 756 0038 696E7661 		.ascii	"invalid next ptr\000"
 756      6C696420 
 756      6E657874 
 756      20707472 
 756      00
 757              		.section	.text.mem_trim,"ax",%progbits
 758              		.align	1
 759              		.global	mem_trim
 760              		.syntax unified
 761              		.thumb
 762              		.thumb_func
 764              	mem_trim:
 765              	.LVL61:
 766              	.LFB176:
 687:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 688:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 689:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Shrink memory returned by mem_malloc().
ARM GAS  /tmp/ccT91cjR.s 			page 30


 690:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 691:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param rmem pointer to memory allocated by mem_malloc the is to be shrinked
 692:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param new_size required size after shrinking (needs to be smaller than or
 693:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *                equal to the previous size)
 694:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return for compatibility reasons: is always == rmem, at the moment
 695:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or NULL if newsize is > old size, in which case rmem is NOT touched
 696:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *         or freed!
 697:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 698:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 699:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_trim(void *rmem, mem_size_t new_size)
 700:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 767              		.loc 1 700 1 is_stmt 1 view -0
 768              		.cfi_startproc
 769              		@ args = 0, pretend = 0, frame = 0
 770              		@ frame_needed = 0, uses_anonymous_args = 0
 771              		.loc 1 700 1 is_stmt 0 view .LVU229
 772 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 773              	.LCFI5:
 774              		.cfi_def_cfa_offset 32
 775              		.cfi_offset 3, -32
 776              		.cfi_offset 4, -28
 777              		.cfi_offset 5, -24
 778              		.cfi_offset 6, -20
 779              		.cfi_offset 7, -16
 780              		.cfi_offset 8, -12
 781              		.cfi_offset 9, -8
 782              		.cfi_offset 14, -4
 783 0004 0446     		mov	r4, r0
 701:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t size, newsize;
 784              		.loc 1 701 3 is_stmt 1 view .LVU230
 702:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2;
 785              		.loc 1 702 3 view .LVU231
 703:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 786              		.loc 1 703 3 view .LVU232
 704:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* use the FREE_PROTECT here: it protects with sem OR SYS_ARCH_PROTECT */
 705:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_DECL_PROTECT();
 787              		.loc 1 705 31 view .LVU233
 706:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 707:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 708:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 709:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize = (mem_size_t)LWIP_MEM_ALIGN_SIZE(new_size);
 788              		.loc 1 709 3 view .LVU234
 789              		.loc 1 709 25 is_stmt 0 view .LVU235
 790 0006 CB1C     		adds	r3, r1, #3
 791 0008 9BB2     		uxth	r3, r3
 792              		.loc 1 709 11 view .LVU236
 793 000a 23F00303 		bic	r3, r3, #3
 794 000e 9DB2     		uxth	r5, r3
 795              	.LVL62:
 710:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize < MIN_SIZE_ALIGNED) {
 796              		.loc 1 710 3 is_stmt 1 view .LVU237
 797              		.loc 1 710 6 is_stmt 0 view .LVU238
 798 0010 0B2B     		cmp	r3, #11
 799 0012 00D8     		bhi	.L58
 711:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 712:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     newsize = MIN_SIZE_ALIGNED;
 800              		.loc 1 712 13 view .LVU239
ARM GAS  /tmp/ccT91cjR.s 			page 31


 801 0014 0C25     		movs	r5, #12
 802              	.LVL63:
 803              	.L58:
 713:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 714:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 715:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   newsize += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 716:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 717:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((newsize > MEM_SIZE_ALIGNED) || (newsize < new_size)) {
 804              		.loc 1 717 3 is_stmt 1 view .LVU240
 805              		.loc 1 717 48 is_stmt 0 view .LVU241
 806 0016 8D42     		cmp	r5, r1
 807 0018 2CBF     		ite	cs
 808 001a 0021     		movcs	r1, #0
 809              	.LVL64:
 810              		.loc 1 717 48 view .LVU242
 811 001c 0121     		movcc	r1, #1
 812              		.loc 1 717 36 view .LVU243
 813 001e B5F5C86F 		cmp	r5, #1600
 814 0022 88BF     		it	hi
 815 0024 41F00101 		orrhi	r1, r1, #1
 816              		.loc 1 717 6 view .LVU244
 817 0028 0029     		cmp	r1, #0
 818 002a 40F09580 		bne	.L69
 718:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 719:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 720:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 721:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim: legal memory", (u8_t *)rmem >= (u8_t *)ram &&
 819              		.loc 1 721 3 is_stmt 1 view .LVU245
 820              		.loc 1 721 3 view .LVU246
 821 002e 4D4B     		ldr	r3, .L76
 822 0030 1B68     		ldr	r3, [r3]
 823 0032 A342     		cmp	r3, r4
 824 0034 03D8     		bhi	.L60
 825              		.loc 1 721 3 is_stmt 0 discriminator 2 view .LVU247
 826 0036 4C4B     		ldr	r3, .L76+4
 827 0038 1B68     		ldr	r3, [r3]
 828 003a A342     		cmp	r3, r4
 829 003c 06D8     		bhi	.L61
 830              	.L60:
 831              		.loc 1 721 3 is_stmt 1 discriminator 3 view .LVU248
 832              		.loc 1 721 3 discriminator 3 view .LVU249
 833 003e 4B4B     		ldr	r3, .L76+8
 834 0040 40F2D122 		movw	r2, #721
 835 0044 4A49     		ldr	r1, .L76+12
 836 0046 4B48     		ldr	r0, .L76+16
 837              	.LVL65:
 838              		.loc 1 721 3 is_stmt 0 discriminator 3 view .LVU250
 839 0048 FFF7FEFF 		bl	printf
 840              	.LVL66:
 841              	.L61:
 842              		.loc 1 721 3 is_stmt 1 discriminator 5 view .LVU251
 843              		.loc 1 721 3 discriminator 5 view .LVU252
 722:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               (u8_t *)rmem < (u8_t *)ram_end);
 723:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 724:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((u8_t *)rmem < (u8_t *)ram || (u8_t *)rmem >= (u8_t *)ram_end) {
 844              		.loc 1 724 3 view .LVU253
 845              		.loc 1 724 20 is_stmt 0 view .LVU254
ARM GAS  /tmp/ccT91cjR.s 			page 32


 846 004c 454B     		ldr	r3, .L76
 847 004e 1B68     		ldr	r3, [r3]
 848              		.loc 1 724 6 view .LVU255
 849 0050 A342     		cmp	r3, r4
 850 0052 00F28280 		bhi	.L59
 851              		.loc 1 724 53 discriminator 1 view .LVU256
 852 0056 444B     		ldr	r3, .L76+4
 853 0058 1B68     		ldr	r3, [r3]
 854              		.loc 1 724 34 discriminator 1 view .LVU257
 855 005a A342     		cmp	r3, r4
 856 005c 7DD9     		bls	.L59
 725:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SEVERE, ("mem_trim: illegal memory\n"));
 726:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* protect mem stats from concurrent access */
 727:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_INC_LOCKED(illegal);
 728:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 729:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 730:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Get the corresponding struct mem ... */
 731:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* cast through void* to get rid of alignment warnings */
 732:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem = (struct mem *)(void *)((u8_t *)rmem - (SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET));
 857              		.loc 1 732 3 is_stmt 1 view .LVU258
 858              	.LVL67:
 733:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 734:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_check_element(mem);
 735:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 736:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* ... and its offset pointer */
 737:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   ptr = mem_to_ptr(mem);
 859              		.loc 1 737 3 view .LVU259
 860              		.loc 1 737 9 is_stmt 0 view .LVU260
 861 005e A4F10800 		sub	r0, r4, #8
 862              	.LVL68:
 863              		.loc 1 737 9 view .LVU261
 864 0062 FFF7FEFF 		bl	mem_to_ptr
 865              	.LVL69:
 866              		.loc 1 737 9 view .LVU262
 867 0066 0646     		mov	r6, r0
 868              	.LVL70:
 738:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 739:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)((mem_size_t)(mem->next - ptr) - (SIZEOF_STRUCT_MEM + MEM_SANITY_OVERHEAD));
 869              		.loc 1 739 3 is_stmt 1 view .LVU263
 870              		.loc 1 739 39 is_stmt 0 view .LVU264
 871 0068 34F8088C 		ldrh	r8, [r4, #-8]
 872              		.loc 1 739 23 view .LVU265
 873 006c A8EB0008 		sub	r8, r8, r0
 874 0070 1FFA88F8 		uxth	r8, r8
 875              		.loc 1 739 8 view .LVU266
 876 0074 A8F10808 		sub	r8, r8, #8
 877 0078 1FFA88F8 		uxth	r8, r8
 878              	.LVL71:
 740:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_ASSERT("mem_trim can only shrink memory", newsize <= size);
 879              		.loc 1 740 3 is_stmt 1 view .LVU267
 880              		.loc 1 740 3 view .LVU268
 881 007c 4545     		cmp	r5, r8
 882 007e 29D8     		bhi	.L72
 883              	.LVL72:
 884              	.L62:
 885              		.loc 1 740 3 discriminator 3 view .LVU269
 886              		.loc 1 740 3 discriminator 3 view .LVU270
ARM GAS  /tmp/ccT91cjR.s 			page 33


 741:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 887              		.loc 1 741 3 view .LVU271
 888              		.loc 1 741 6 is_stmt 0 view .LVU272
 889 0080 4545     		cmp	r5, r8
 890 0082 6DD8     		bhi	.L70
 742:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* not supported */
 743:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 744:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 745:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize == size) {
 891              		.loc 1 745 3 is_stmt 1 view .LVU273
 892              		.loc 1 745 6 is_stmt 0 view .LVU274
 893 0084 69D0     		beq	.L59
 746:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* No change in size, simply return */
 747:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return rmem;
 748:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 749:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 750:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 751:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_PROTECT();
 894              		.loc 1 751 26 is_stmt 1 view .LVU275
 752:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 753:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem2 = ptr_to_mem(mem->next);
 895              		.loc 1 753 3 view .LVU276
 896              		.loc 1 753 10 is_stmt 0 view .LVU277
 897 0086 34F8087C 		ldrh	r7, [r4, #-8]
 898 008a 3846     		mov	r0, r7
 899 008c FFF7FEFF 		bl	ptr_to_mem
 900              	.LVL73:
 901 0090 8146     		mov	r9, r0
 902              	.LVL74:
 754:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (mem2->used == 0) {
 903              		.loc 1 754 3 is_stmt 1 view .LVU278
 904              		.loc 1 754 11 is_stmt 0 view .LVU279
 905 0092 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 906              		.loc 1 754 6 view .LVU280
 907 0094 002B     		cmp	r3, #0
 908 0096 33D1     		bne	.L63
 909              	.LBB2:
 755:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* The next struct is unused, we can simply move it at little */
 756:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem_size_t next;
 910              		.loc 1 756 5 is_stmt 1 view .LVU281
 757:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 911              		.loc 1 757 5 view .LVU282
 912              		.loc 1 757 5 view .LVU283
 913 0098 B7F5C86F 		cmp	r7, #1600
 914 009c 22D0     		beq	.L73
 915              	.LVL75:
 916              	.L64:
 917              		.loc 1 757 5 discriminator 3 view .LVU284
 918              		.loc 1 757 5 discriminator 3 view .LVU285
 758:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 759:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     next = mem2->next;
 919              		.loc 1 759 5 view .LVU286
 920              		.loc 1 759 10 is_stmt 0 view .LVU287
 921 009e B9F80070 		ldrh	r7, [r9]
 922              	.LVL76:
 760:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* create new struct mem which is moved directly after the shrinked mem */
 761:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
ARM GAS  /tmp/ccT91cjR.s 			page 34


 923              		.loc 1 761 5 is_stmt 1 view .LVU288
 924              		.loc 1 761 49 is_stmt 0 view .LVU289
 925 00a2 3544     		add	r5, r5, r6
 926              	.LVL77:
 927              		.loc 1 761 49 view .LVU290
 928 00a4 ADB2     		uxth	r5, r5
 929              		.loc 1 761 10 view .LVU291
 930 00a6 0835     		adds	r5, r5, #8
 931 00a8 ADB2     		uxth	r5, r5
 932              	.LVL78:
 762:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (lfree == mem2) {
 933              		.loc 1 762 5 is_stmt 1 view .LVU292
 934              		.loc 1 762 15 is_stmt 0 view .LVU293
 935 00aa 334B     		ldr	r3, .L76+20
 936 00ac 1B68     		ldr	r3, [r3]
 937              		.loc 1 762 8 view .LVU294
 938 00ae 4B45     		cmp	r3, r9
 939 00b0 20D0     		beq	.L74
 940              	.L65:
 763:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = ptr_to_mem(ptr2);
 764:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 765:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 941              		.loc 1 765 5 is_stmt 1 view .LVU295
 942              		.loc 1 765 12 is_stmt 0 view .LVU296
 943 00b2 2846     		mov	r0, r5
 944 00b4 FFF7FEFF 		bl	ptr_to_mem
 945              	.LVL79:
 766:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 946              		.loc 1 766 5 is_stmt 1 view .LVU297
 947              		.loc 1 766 16 is_stmt 0 view .LVU298
 948 00b8 0023     		movs	r3, #0
 949 00ba 0371     		strb	r3, [r0, #4]
 767:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* restore the next pointer */
 768:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = next;
 950              		.loc 1 768 5 is_stmt 1 view .LVU299
 951              		.loc 1 768 16 is_stmt 0 view .LVU300
 952 00bc 0780     		strh	r7, [r0]	@ movhi
 769:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link it back to mem */
 770:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 953              		.loc 1 770 5 is_stmt 1 view .LVU301
 954              		.loc 1 770 16 is_stmt 0 view .LVU302
 955 00be 4680     		strh	r6, [r0, #2]	@ movhi
 771:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* link mem to it */
 772:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 956              		.loc 1 772 5 is_stmt 1 view .LVU303
 957              		.loc 1 772 15 is_stmt 0 view .LVU304
 958 00c0 24F8085C 		strh	r5, [r4, #-8]	@ movhi
 773:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* last thing to restore linked list: as we have moved mem2,
 774:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * let 'mem2->next->prev' point to mem2 again. but only if mem2->next is not
 775:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * the end of the heap */
 776:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 959              		.loc 1 776 5 is_stmt 1 view .LVU305
 960              		.loc 1 776 13 is_stmt 0 view .LVU306
 961 00c4 0088     		ldrh	r0, [r0]
 962              	.LVL80:
 963              		.loc 1 776 8 view .LVU307
 964 00c6 B0F5C86F 		cmp	r0, #1600
ARM GAS  /tmp/ccT91cjR.s 			page 35


 965 00ca 46D0     		beq	.L59
 777:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 966              		.loc 1 777 7 is_stmt 1 view .LVU308
 967 00cc FFF7FEFF 		bl	ptr_to_mem
 968              	.LVL81:
 969              		.loc 1 777 36 is_stmt 0 discriminator 1 view .LVU309
 970 00d0 4580     		strh	r5, [r0, #2]	@ movhi
 971 00d2 42E0     		b	.L59
 972              	.LVL82:
 973              	.L72:
 974              		.loc 1 777 36 discriminator 1 view .LVU310
 975              	.LBE2:
 740:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 976              		.loc 1 740 3 is_stmt 1 discriminator 1 view .LVU311
 740:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 977              		.loc 1 740 3 discriminator 1 view .LVU312
 978 00d4 254B     		ldr	r3, .L76+8
 979 00d6 4FF43972 		mov	r2, #740
 980 00da 2849     		ldr	r1, .L76+24
 981 00dc 2548     		ldr	r0, .L76+16
 982              	.LVL83:
 740:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (newsize > size) {
 983              		.loc 1 740 3 is_stmt 0 discriminator 1 view .LVU313
 984 00de FFF7FEFF 		bl	printf
 985              	.LVL84:
 986 00e2 CDE7     		b	.L62
 987              	.LVL85:
 988              	.L73:
 989              	.LBB3:
 757:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 990              		.loc 1 757 5 is_stmt 1 discriminator 1 view .LVU314
 757:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 991              		.loc 1 757 5 discriminator 1 view .LVU315
 992 00e4 214B     		ldr	r3, .L76+8
 993 00e6 40F2F522 		movw	r2, #757
 994 00ea 2549     		ldr	r1, .L76+28
 995 00ec 2148     		ldr	r0, .L76+16
 996              	.LVL86:
 757:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* remember the old next pointer */
 997              		.loc 1 757 5 is_stmt 0 discriminator 1 view .LVU316
 998 00ee FFF7FEFF 		bl	printf
 999              	.LVL87:
 1000 00f2 D4E7     		b	.L64
 1001              	.LVL88:
 1002              	.L74:
 763:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1003              		.loc 1 763 7 is_stmt 1 view .LVU317
 763:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1004              		.loc 1 763 15 is_stmt 0 view .LVU318
 1005 00f4 2846     		mov	r0, r5
 1006 00f6 FFF7FEFF 		bl	ptr_to_mem
 1007              	.LVL89:
 763:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1008              		.loc 1 763 13 discriminator 1 view .LVU319
 1009 00fa 1F4B     		ldr	r3, .L76+20
 1010 00fc 1860     		str	r0, [r3]
 1011 00fe D8E7     		b	.L65
ARM GAS  /tmp/ccT91cjR.s 			page 36


 1012              	.LVL90:
 1013              	.L63:
 763:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 1014              		.loc 1 763 13 discriminator 1 view .LVU320
 1015              	.LBE3:
 778:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 779:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 780:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* no need to plug holes, we've already done that */
 781:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   } else if (newsize + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED <= size) {
 1016              		.loc 1 781 10 is_stmt 1 view .LVU321
 1017              		.loc 1 781 42 is_stmt 0 view .LVU322
 1018 0100 05F11403 		add	r3, r5, #20
 1019              		.loc 1 781 13 view .LVU323
 1020 0104 4345     		cmp	r3, r8
 1021 0106 28D8     		bhi	.L59
 782:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Next struct is used but there's room for another struct mem with
 783:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * at least MIN_SIZE_ALIGNED of data.
 784:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * Old size ('size') must be big enough to contain at least 'newsize' plus a struct mem
 785:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * ('SIZEOF_STRUCT_MEM') with some data ('MIN_SIZE_ALIGNED').
 786:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 787:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       region that couldn't hold data, but when mem->next gets freed,
 788:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      *       the 2 regions would be combined, resulting in more free memory */
 789:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + newsize);
 1022              		.loc 1 789 5 is_stmt 1 view .LVU324
 1023              		.loc 1 789 49 is_stmt 0 view .LVU325
 1024 0108 3544     		add	r5, r5, r6
 1025              	.LVL91:
 1026              		.loc 1 789 49 view .LVU326
 1027 010a ADB2     		uxth	r5, r5
 1028              		.loc 1 789 10 view .LVU327
 1029 010c 0835     		adds	r5, r5, #8
 1030 010e ADB2     		uxth	r5, r5
 1031              	.LVL92:
 790:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_ASSERT("invalid next ptr", mem->next != MEM_SIZE_ALIGNED);
 1032              		.loc 1 790 5 is_stmt 1 view .LVU328
 1033              		.loc 1 790 5 view .LVU329
 1034 0110 B7F5C86F 		cmp	r7, #1600
 1035 0114 18D0     		beq	.L75
 1036              	.LVL93:
 1037              	.L66:
 1038              		.loc 1 790 5 discriminator 3 view .LVU330
 1039              		.loc 1 790 5 discriminator 3 view .LVU331
 791:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1040              		.loc 1 791 5 view .LVU332
 1041              		.loc 1 791 12 is_stmt 0 view .LVU333
 1042 0116 2846     		mov	r0, r5
 1043 0118 FFF7FEFF 		bl	ptr_to_mem
 1044              	.LVL94:
 792:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2 < lfree) {
 1045              		.loc 1 792 5 is_stmt 1 view .LVU334
 1046              		.loc 1 792 14 is_stmt 0 view .LVU335
 1047 011c 164B     		ldr	r3, .L76+20
 1048 011e 1B68     		ldr	r3, [r3]
 1049              		.loc 1 792 8 view .LVU336
 1050 0120 8342     		cmp	r3, r0
 1051 0122 01D9     		bls	.L67
 793:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       lfree = mem2;
ARM GAS  /tmp/ccT91cjR.s 			page 37


 1052              		.loc 1 793 7 is_stmt 1 view .LVU337
 1053              		.loc 1 793 13 is_stmt 0 view .LVU338
 1054 0124 144B     		ldr	r3, .L76+20
 1055 0126 1860     		str	r0, [r3]
 1056              	.L67:
 794:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 795:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->used = 0;
 1057              		.loc 1 795 5 is_stmt 1 view .LVU339
 1058              		.loc 1 795 16 is_stmt 0 view .LVU340
 1059 0128 0023     		movs	r3, #0
 1060 012a 0371     		strb	r3, [r0, #4]
 796:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->next = mem->next;
 1061              		.loc 1 796 5 is_stmt 1 view .LVU341
 1062              		.loc 1 796 21 is_stmt 0 view .LVU342
 1063 012c 34F8083C 		ldrh	r3, [r4, #-8]
 1064              		.loc 1 796 16 view .LVU343
 1065 0130 0380     		strh	r3, [r0]	@ movhi
 797:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2->prev = ptr;
 1066              		.loc 1 797 5 is_stmt 1 view .LVU344
 1067              		.loc 1 797 16 is_stmt 0 view .LVU345
 1068 0132 4680     		strh	r6, [r0, #2]	@ movhi
 798:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem->next = ptr2;
 1069              		.loc 1 798 5 is_stmt 1 view .LVU346
 1070              		.loc 1 798 15 is_stmt 0 view .LVU347
 1071 0134 24F8085C 		strh	r5, [r4, #-8]	@ movhi
 799:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     if (mem2->next != MEM_SIZE_ALIGNED) {
 1072              		.loc 1 799 5 is_stmt 1 view .LVU348
 1073              		.loc 1 799 13 is_stmt 0 view .LVU349
 1074 0138 0088     		ldrh	r0, [r0]
 1075              	.LVL95:
 1076              		.loc 1 799 8 view .LVU350
 1077 013a B0F5C86F 		cmp	r0, #1600
 1078 013e 0CD0     		beq	.L59
 800:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       ptr_to_mem(mem2->next)->prev = ptr2;
 1079              		.loc 1 800 7 is_stmt 1 view .LVU351
 1080 0140 FFF7FEFF 		bl	ptr_to_mem
 1081              	.LVL96:
 1082              		.loc 1 800 36 is_stmt 0 discriminator 1 view .LVU352
 1083 0144 4580     		strh	r5, [r0, #2]	@ movhi
 1084 0146 08E0     		b	.L59
 1085              	.LVL97:
 1086              	.L75:
 790:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1087              		.loc 1 790 5 is_stmt 1 discriminator 1 view .LVU353
 790:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1088              		.loc 1 790 5 discriminator 1 view .LVU354
 1089 0148 084B     		ldr	r3, .L76+8
 1090              	.LVL98:
 790:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1091              		.loc 1 790 5 is_stmt 0 discriminator 1 view .LVU355
 1092 014a 40F21632 		movw	r2, #790
 1093 014e 0C49     		ldr	r1, .L76+28
 1094 0150 0848     		ldr	r0, .L76+16
 1095              	.LVL99:
 790:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     mem2 = ptr_to_mem(ptr2);
 1096              		.loc 1 790 5 discriminator 1 view .LVU356
 1097 0152 FFF7FEFF 		bl	printf
ARM GAS  /tmp/ccT91cjR.s 			page 38


 1098              	.LVL100:
 1099 0156 DEE7     		b	.L66
 1100              	.LVL101:
 1101              	.L69:
 718:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1102              		.loc 1 718 12 view .LVU357
 1103 0158 0024     		movs	r4, #0
 1104              	.LVL102:
 1105              	.L59:
 801:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 802:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     MEM_STATS_DEC_USED(used, (size - newsize));
 803:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* the original mem->next is used, so no need to plug holes! */
 804:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 805:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* else {
 806:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     next struct mem is used but size between mem and mem2 is not big enough
 807:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     to create another struct mem
 808:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> don't do anyhting.
 809:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     -> the remaining space stays unused since it is too small
 810:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   } */
 811:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 812:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_overflow_init_element(mem, new_size);
 813:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 814:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_SANITY();
 815:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 816:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_free_count = 1;
 817:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 818:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_FREE_UNPROTECT();
 819:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return rmem;
 820:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1106              		.loc 1 820 1 view .LVU358
 1107 015a 2046     		mov	r0, r4
 1108 015c BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1109              	.LVL103:
 1110              	.L70:
 743:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1111              		.loc 1 743 12 view .LVU359
 1112 0160 0024     		movs	r4, #0
 1113              	.LVL104:
 743:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1114              		.loc 1 743 12 view .LVU360
 1115 0162 FAE7     		b	.L59
 1116              	.L77:
 1117              		.align	2
 1118              	.L76:
 1119 0164 00000000 		.word	ram
 1120 0168 00000000 		.word	ram_end
 1121 016c 00000000 		.word	.LC0
 1122 0170 00000000 		.word	.LC10
 1123 0174 4C000000 		.word	.LC2
 1124 0178 00000000 		.word	lfree
 1125 017c 18000000 		.word	.LC11
 1126 0180 38000000 		.word	.LC12
 1127              		.cfi_endproc
 1128              	.LFE176:
 1130              		.section	.rodata.mem_malloc.str1.4,"aMS",%progbits,1
 1131              		.align	2
 1132              	.LC13:
ARM GAS  /tmp/ccT91cjR.s 			page 39


 1133 0000 6D656D5F 		.ascii	"mem_malloc: !lfree->used\000"
 1133      6D616C6C 
 1133      6F633A20 
 1133      216C6672 
 1133      65652D3E 
 1134 0019 000000   		.align	2
 1135              	.LC14:
 1136 001c 6D656D5F 		.ascii	"mem_malloc: allocated memory not above ram_end.\000"
 1136      6D616C6C 
 1136      6F633A20 
 1136      616C6C6F 
 1136      63617465 
 1137              		.align	2
 1138              	.LC15:
 1139 004c 6D656D5F 		.ascii	"mem_malloc: allocated memory properly aligned.\000"
 1139      6D616C6C 
 1139      6F633A20 
 1139      616C6C6F 
 1139      63617465 
 1140 007b 00       		.align	2
 1141              	.LC16:
 1142 007c 6D656D5F 		.ascii	"mem_malloc: sanity check alignment\000"
 1142      6D616C6C 
 1142      6F633A20 
 1142      73616E69 
 1142      74792063 
 1143              		.section	.text.mem_malloc,"ax",%progbits
 1144              		.align	1
 1145              		.global	mem_malloc
 1146              		.syntax unified
 1147              		.thumb
 1148              		.thumb_func
 1150              	mem_malloc:
 1151              	.LVL105:
 1152              	.LFB177:
 821:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 822:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 823:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Allocate a block of memory with a minimum of 'size' bytes.
 824:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 825:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size_in is the minimum size of the requested block in bytes.
 826:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory or NULL if no free memory was found.
 827:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 828:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Note that the returned value will always be aligned (as defined by MEM_ALIGNMENT).
 829:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 830:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 831:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc(mem_size_t size_in)
 832:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1153              		.loc 1 832 1 is_stmt 1 view -0
 1154              		.cfi_startproc
 1155              		@ args = 0, pretend = 0, frame = 0
 1156              		@ frame_needed = 0, uses_anonymous_args = 0
 833:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1157              		.loc 1 833 3 view .LVU362
 834:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   struct mem *mem, *mem2;
 1158              		.loc 1 834 3 view .LVU363
 835:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 836:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   u8_t local_mem_free_count = 0;
ARM GAS  /tmp/ccT91cjR.s 			page 40


 837:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 838:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_DECL_PROTECT();
 1159              		.loc 1 838 32 view .LVU364
 839:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 840:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size_in == 0) {
 1160              		.loc 1 840 3 view .LVU365
 1161              		.loc 1 840 6 is_stmt 0 view .LVU366
 1162 0000 0028     		cmp	r0, #0
 1163 0002 00F09A80 		beq	.L94
 832:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   mem_size_t ptr, ptr2, size;
 1164              		.loc 1 832 1 view .LVU367
 1165 0006 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1166              	.LCFI6:
 1167              		.cfi_def_cfa_offset 24
 1168              		.cfi_offset 3, -24
 1169              		.cfi_offset 4, -20
 1170              		.cfi_offset 5, -16
 1171              		.cfi_offset 6, -12
 1172              		.cfi_offset 7, -8
 1173              		.cfi_offset 14, -4
 1174 0008 0346     		mov	r3, r0
 841:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 842:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 843:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 844:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* Expand the size of the allocated memory region so that we can
 845:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      adjust for alignment. */
 846:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   size = (mem_size_t)LWIP_MEM_ALIGN_SIZE(size_in);
 1175              		.loc 1 846 3 is_stmt 1 view .LVU368
 1176              		.loc 1 846 22 is_stmt 0 view .LVU369
 1177 000a C21C     		adds	r2, r0, #3
 1178 000c 92B2     		uxth	r2, r2
 1179              		.loc 1 846 8 view .LVU370
 1180 000e 22F00302 		bic	r2, r2, #3
 1181 0012 96B2     		uxth	r6, r2
 1182              	.LVL106:
 847:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (size < MIN_SIZE_ALIGNED) {
 1183              		.loc 1 847 3 is_stmt 1 view .LVU371
 1184              		.loc 1 847 6 is_stmt 0 view .LVU372
 1185 0014 0B2A     		cmp	r2, #11
 1186 0016 00D8     		bhi	.L80
 848:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* every data block must be at least MIN_SIZE_ALIGNED long */
 849:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     size = MIN_SIZE_ALIGNED;
 1187              		.loc 1 849 10 view .LVU373
 1188 0018 0C26     		movs	r6, #12
 1189              	.LVL107:
 1190              	.L80:
 850:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 851:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 852:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   size += MEM_SANITY_REGION_BEFORE_ALIGNED + MEM_SANITY_REGION_AFTER_ALIGNED;
 853:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 854:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size > MEM_SIZE_ALIGNED) || (size < size_in)) {
 1191              		.loc 1 854 3 is_stmt 1 view .LVU374
 1192              		.loc 1 854 42 is_stmt 0 view .LVU375
 1193 001a 9E42     		cmp	r6, r3
 1194 001c 2CBF     		ite	cs
 1195 001e 0023     		movcs	r3, #0
 1196 0020 0123     		movcc	r3, #1
ARM GAS  /tmp/ccT91cjR.s 			page 41


 1197              		.loc 1 854 33 view .LVU376
 1198 0022 B6F5C86F 		cmp	r6, #1600
 1199 0026 88BF     		it	hi
 1200 0028 43F00103 		orrhi	r3, r3, #1
 1201              		.loc 1 854 6 view .LVU377
 1202 002c 002B     		cmp	r3, #0
 1203 002e 40F08680 		bne	.L96
 855:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
 856:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 857:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 858:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* protect the heap from concurrent access */
 859:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_lock(&mem_mutex);
 1204              		.loc 1 859 29 is_stmt 1 view .LVU378
 860:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_PROTECT();
 1205              		.loc 1 860 27 view .LVU379
 861:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 862:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* run as long as a mem_free disturbed mem_malloc or mem_trim */
 863:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   do {
 864:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     local_mem_free_count = 0;
 865:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 866:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 867:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* Scan through the heap searching for a free block that is big enough,
 868:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      * beginning with the lowest free block.
 869:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****      */
 870:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     for (ptr = mem_to_ptr(lfree); ptr < MEM_SIZE_ALIGNED - size;
 1206              		.loc 1 870 5 view .LVU380
 1207              		.loc 1 870 16 is_stmt 0 view .LVU381
 1208 0032 444B     		ldr	r3, .L106
 1209 0034 1868     		ldr	r0, [r3]
 1210              	.LVL108:
 1211              		.loc 1 870 16 view .LVU382
 1212 0036 FFF7FEFF 		bl	mem_to_ptr
 1213              	.LVL109:
 1214 003a 0546     		mov	r5, r0
 1215              	.LVL110:
 1216              		.loc 1 870 5 view .LVU383
 1217 003c 4CE0     		b	.L81
 1218              	.LVL111:
 1219              	.L105:
 871:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 872:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 873:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 874:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem_free_count = 0;
 875:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_UNPROTECT();
 876:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       /* allow mem_free or mem_trim to run */
 877:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       LWIP_MEM_ALLOC_PROTECT();
 878:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       if (mem_free_count != 0) {
 879:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* If mem_free or mem_trim have run, we have to restart since they
 880:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            could have altered our current struct mem. */
 881:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         local_mem_free_count = 1;
 882:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         break;
 883:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 884:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 885:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 886:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       if ((!mem->used) &&
 887:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 888:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
ARM GAS  /tmp/ccT91cjR.s 			page 42


 889:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****          * mem->next - (ptr + SIZEOF_STRUCT_MEM) gives us the 'user data size' of mem */
 890:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 891:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem->next - (ptr + SIZEOF_STRUCT_MEM) >= (size + SIZEOF_STRUCT_MEM + MIN_SIZE_ALIGNED))
 892:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 893:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * at least MIN_SIZE_ALIGNED of data also fits in the 'user data space' of 'mem')
 894:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> split large block, create empty remainder,
 895:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * remainder must be large enough to contain MIN_SIZE_ALIGNED data: if
 896:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * mem->next - (ptr + (2*SIZEOF_STRUCT_MEM)) == size,
 897:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * struct mem would fit in but no data between mem2 and mem2->next
 898:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * @todo we could leave out MIN_SIZE_ALIGNED. We would create an empty
 899:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       region that couldn't hold data, but when mem->next gets freed,
 900:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            *       the 2 regions would be combined, resulting in more free memory
 901:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 902:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           ptr2 = (mem_size_t)(ptr + SIZEOF_STRUCT_MEM + size);
 903:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1220              		.loc 1 903 11 is_stmt 1 discriminator 1 view .LVU384
 1221              		.loc 1 903 11 discriminator 1 view .LVU385
 1222 003e 424B     		ldr	r3, .L106+4
 1223 0040 40F28732 		movw	r2, #903
 1224 0044 4149     		ldr	r1, .L106+8
 1225 0046 4248     		ldr	r0, .L106+12
 1226              	.LVL112:
 1227              		.loc 1 903 11 is_stmt 0 discriminator 1 view .LVU386
 1228 0048 FFF7FEFF 		bl	printf
 1229              	.LVL113:
 1230 004c 60E0     		b	.L84
 1231              	.LVL114:
 1232              	.L83:
 904:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 905:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2 = ptr_to_mem(ptr2);
 906:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 907:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 908:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 909:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 910:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->next = ptr2;
 911:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 912:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 913:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           if (mem2->next != MEM_SIZE_ALIGNED) {
 914:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 915:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 916:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, (size + SIZEOF_STRUCT_MEM));
 917:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         } else {
 918:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (a mem2 struct does no fit into the user data space of mem and mem->next will always
 919:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * be used at this point: if not we have 2 unused structs in a row, plug_holes should hav
 920:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * take care of this).
 921:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * -> near fit or exact fit: do not split, no mem2 creation
 922:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * also can't move mem->next directly behind mem, since mem->next
 923:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            * will always be used at this point!
 924:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****            */
 925:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1233              		.loc 1 925 11 is_stmt 1 view .LVU387
 1234              		.loc 1 925 21 is_stmt 0 view .LVU388
 1235 004e 0123     		movs	r3, #1
 1236 0050 0371     		strb	r3, [r0, #4]
 1237              	.LVL115:
 1238              	.L85:
 926:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           MEM_STATS_INC_USED(used, mem->next - mem_to_ptr(mem));
ARM GAS  /tmp/ccT91cjR.s 			page 43


 1239              		.loc 1 926 64 is_stmt 1 view .LVU389
 927:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 928:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 929:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_malloc_adjust_lfree:
 930:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 931:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         if (mem == lfree) {
 1240              		.loc 1 931 9 view .LVU390
 1241              		.loc 1 931 17 is_stmt 0 view .LVU391
 1242 0052 3C4B     		ldr	r3, .L106
 1243 0054 1868     		ldr	r0, [r3]
 1244              		.loc 1 931 12 view .LVU392
 1245 0056 A042     		cmp	r0, r4
 1246 0058 0FD0     		beq	.L86
 1247              	.L87:
 1248              	.LBB4:
 932:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           struct mem *cur = lfree;
 933:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* Find next free block after mem and update lowest free pointer */
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           while (cur->used && cur != ram_end) {
 935:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 936:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             mem_free_count = 0;
 937:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_UNPROTECT();
 938:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             /* prevent high interrupt latency... */
 939:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             LWIP_MEM_ALLOC_PROTECT();
 940:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             if (mem_free_count != 0) {
 941:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               /* If mem_free or mem_trim have run, we have to restart since they
 942:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                  could have altered our current struct mem or lfree. */
 943:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****               goto mem_malloc_adjust_lfree;
 944:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             }
 945:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 946:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             cur = ptr_to_mem(cur->next);
 947:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 948:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           lfree = cur;
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1249              		.loc 1 949 11 is_stmt 1 discriminator 5 view .LVU393
 1250              		.loc 1 949 11 discriminator 5 view .LVU394
 1251              	.LBE4:
 950:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 951:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_MEM_ALLOC_UNPROTECT();
 1252              		.loc 1 951 35 view .LVU395
 952:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         sys_mutex_unlock(&mem_mutex);
 1253              		.loc 1 952 37 view .LVU396
 953:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory not above ram_end.",
 1254              		.loc 1 953 9 view .LVU397
 1255              		.loc 1 953 9 view .LVU398
 1256 005a 2744     		add	r7, r7, r4
 1257              	.LVL116:
 1258              		.loc 1 953 9 is_stmt 0 view .LVU399
 1259 005c 0837     		adds	r7, r7, #8
 1260 005e 3D4B     		ldr	r3, .L106+16
 1261 0060 1B68     		ldr	r3, [r3]
 1262 0062 9F42     		cmp	r7, r3
 1263 0064 1FD8     		bhi	.L101
 1264              	.L90:
 1265              		.loc 1 953 9 is_stmt 1 discriminator 3 view .LVU400
 1266              		.loc 1 953 9 discriminator 3 view .LVU401
 954:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 955:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: allocated memory properly aligned.",
ARM GAS  /tmp/ccT91cjR.s 			page 44


 1267              		.loc 1 955 9 view .LVU402
 1268              		.loc 1 955 9 view .LVU403
 1269 0066 14F00305 		ands	r5, r4, #3
 1270              	.LVL117:
 1271              		.loc 1 955 9 is_stmt 0 view .LVU404
 1272 006a 24D1     		bne	.L102
 1273              	.L91:
 1274              		.loc 1 955 9 is_stmt 1 discriminator 3 view .LVU405
 1275              		.loc 1 955 9 discriminator 3 view .LVU406
 956:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 957:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         LWIP_ASSERT("mem_malloc: sanity check alignment",
 1276              		.loc 1 957 9 view .LVU407
 1277              		.loc 1 957 9 view .LVU408
 1278 006c 5DBB     		cbnz	r5, .L103
 1279              	.L92:
 1280              		.loc 1 957 9 discriminator 3 view .LVU409
 1281              		.loc 1 957 9 discriminator 3 view .LVU410
 958:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 959:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 960:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_OVERFLOW_CHECK
 961:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         mem_overflow_init_element(mem, size_in);
 962:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif
 963:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         MEM_SANITY();
 1282              		.loc 1 963 21 view .LVU411
 964:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         return (u8_t *)mem + SIZEOF_STRUCT_MEM + MEM_SANITY_OFFSET;
 1283              		.loc 1 964 9 view .LVU412
 1284              		.loc 1 964 48 is_stmt 0 view .LVU413
 1285 006e 04F10800 		add	r0, r4, #8
 1286 0072 61E0     		b	.L78
 1287              	.LVL118:
 1288              	.L89:
 1289              	.LBB5:
 946:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1290              		.loc 1 946 13 is_stmt 1 view .LVU414
 946:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1291              		.loc 1 946 19 is_stmt 0 view .LVU415
 1292 0074 0088     		ldrh	r0, [r0]
 1293              	.LVL119:
 946:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1294              		.loc 1 946 19 view .LVU416
 1295 0076 FFF7FEFF 		bl	ptr_to_mem
 1296              	.LVL120:
 1297              	.L86:
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1298              		.loc 1 934 28 is_stmt 1 view .LVU417
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1299              		.loc 1 934 21 is_stmt 0 view .LVU418
 1300 007a 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1301              		.loc 1 934 28 view .LVU419
 1302 007c 1BB1     		cbz	r3, .L88
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1303              		.loc 1 934 35 discriminator 1 view .LVU420
 1304 007e 354A     		ldr	r2, .L106+16
 1305 0080 1268     		ldr	r2, [r2]
 934:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1306              		.loc 1 934 28 discriminator 1 view .LVU421
ARM GAS  /tmp/ccT91cjR.s 			page 45


 1307 0082 8242     		cmp	r2, r0
 1308 0084 F6D1     		bne	.L89
 1309              	.L88:
 948:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1310              		.loc 1 948 11 is_stmt 1 view .LVU422
 948:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("mem_malloc: !lfree->used", ((lfree == ram_end) || (!lfree->used)));
 1311              		.loc 1 948 17 is_stmt 0 view .LVU423
 1312 0086 2F4A     		ldr	r2, .L106
 1313 0088 1060     		str	r0, [r2]
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1314              		.loc 1 949 11 is_stmt 1 view .LVU424
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1315              		.loc 1 949 11 view .LVU425
 1316 008a 324A     		ldr	r2, .L106+16
 1317 008c 1268     		ldr	r2, [r2]
 1318 008e 8242     		cmp	r2, r0
 1319 0090 E3D0     		beq	.L87
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1320              		.loc 1 949 11 is_stmt 0 discriminator 1 view .LVU426
 1321 0092 002B     		cmp	r3, #0
 1322 0094 E1D0     		beq	.L87
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1323              		.loc 1 949 11 is_stmt 1 discriminator 3 view .LVU427
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1324              		.loc 1 949 11 discriminator 3 view .LVU428
 1325 0096 2C4B     		ldr	r3, .L106+4
 1326 0098 40F2B532 		movw	r2, #949
 1327 009c 2E49     		ldr	r1, .L106+20
 1328 009e 2C48     		ldr	r0, .L106+12
 1329              	.LVL121:
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1330              		.loc 1 949 11 is_stmt 0 discriminator 3 view .LVU429
 1331 00a0 FFF7FEFF 		bl	printf
 1332              	.LVL122:
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1333              		.loc 1 949 11 discriminator 3 view .LVU430
 1334 00a4 D9E7     		b	.L87
 1335              	.LVL123:
 1336              	.L101:
 949:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         }
 1337              		.loc 1 949 11 discriminator 3 view .LVU431
 1338              	.LBE5:
 953:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1339              		.loc 1 953 9 is_stmt 1 discriminator 1 view .LVU432
 953:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (mem_ptr_t)mem + SIZEOF_STRUCT_MEM + size <= (mem_ptr_t)ram_end);
 1340              		.loc 1 953 9 discriminator 1 view .LVU433
 1341 00a6 284B     		ldr	r3, .L106+4
 1342 00a8 40F2B932 		movw	r2, #953
 1343 00ac 2B49     		ldr	r1, .L106+24
 1344 00ae 2848     		ldr	r0, .L106+12
 1345 00b0 FFF7FEFF 		bl	printf
 1346              	.LVL124:
 1347 00b4 D7E7     		b	.L90
 1348              	.LVL125:
 1349              	.L102:
 955:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1350              		.loc 1 955 9 discriminator 1 view .LVU434
ARM GAS  /tmp/ccT91cjR.s 			page 46


 955:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     ((mem_ptr_t)mem + SIZEOF_STRUCT_MEM) % MEM_ALIGNMENT == 0);
 1351              		.loc 1 955 9 discriminator 1 view .LVU435
 1352 00b6 244B     		ldr	r3, .L106+4
 1353 00b8 40F2BB32 		movw	r2, #955
 1354 00bc 2849     		ldr	r1, .L106+28
 1355 00be 2448     		ldr	r0, .L106+12
 1356 00c0 FFF7FEFF 		bl	printf
 1357              	.LVL126:
 1358 00c4 D2E7     		b	.L91
 1359              	.L103:
 957:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1360              		.loc 1 957 9 discriminator 1 view .LVU436
 957:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****                     (((mem_ptr_t)mem) & (MEM_ALIGNMENT - 1)) == 0);
 1361              		.loc 1 957 9 discriminator 1 view .LVU437
 1362 00c6 204B     		ldr	r3, .L106+4
 1363 00c8 40F2BD32 		movw	r2, #957
 1364 00cc 2549     		ldr	r1, .L106+32
 1365 00ce 2048     		ldr	r0, .L106+12
 1366 00d0 FFF7FEFF 		bl	printf
 1367              	.LVL127:
 1368 00d4 CBE7     		b	.L92
 1369              	.LVL128:
 1370              	.L82:
 871:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1371              		.loc 1 871 14 view .LVU438
 871:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       mem = ptr_to_mem(ptr);
 1372              		.loc 1 871 14 is_stmt 0 discriminator 1 view .LVU439
 1373 00d6 2588     		ldrh	r5, [r4]
 1374              	.LVL129:
 1375              	.L81:
 870:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1376              		.loc 1 870 39 is_stmt 1 discriminator 1 view .LVU440
 870:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1377              		.loc 1 870 58 is_stmt 0 discriminator 1 view .LVU441
 1378 00d8 3746     		mov	r7, r6
 1379 00da C6F5C863 		rsb	r3, r6, #1600
 870:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****          ptr = ptr_to_mem(ptr)->next) {
 1380              		.loc 1 870 39 discriminator 1 view .LVU442
 1381 00de 9D42     		cmp	r5, r3
 1382 00e0 29D2     		bcs	.L104
 872:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1383              		.loc 1 872 7 is_stmt 1 view .LVU443
 872:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 1384              		.loc 1 872 13 is_stmt 0 view .LVU444
 1385 00e2 2846     		mov	r0, r5
 1386 00e4 FFF7FEFF 		bl	ptr_to_mem
 1387              	.LVL130:
 1388 00e8 0446     		mov	r4, r0
 1389              	.LVL131:
 886:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1390              		.loc 1 886 7 is_stmt 1 view .LVU445
 886:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1391              		.loc 1 886 16 is_stmt 0 view .LVU446
 1392 00ea 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 886:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1393              		.loc 1 886 10 view .LVU447
 1394 00ec 002B     		cmp	r3, #0
ARM GAS  /tmp/ccT91cjR.s 			page 47


 1395 00ee F2D1     		bne	.L82
 887:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1396              		.loc 1 887 15 view .LVU448
 1397 00f0 0388     		ldrh	r3, [r0]
 887:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****         /* mem is not used and at least perfect fit is possible:
 1398              		.loc 1 887 22 view .LVU449
 1399 00f2 5B1B     		subs	r3, r3, r5
 1400 00f4 083B     		subs	r3, r3, #8
 886:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           (mem->next - (ptr + SIZEOF_STRUCT_MEM)) >= size) {
 1401              		.loc 1 886 24 discriminator 1 view .LVU450
 1402 00f6 B342     		cmp	r3, r6
 1403 00f8 EDD3     		bcc	.L82
 891:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1404              		.loc 1 891 9 is_stmt 1 view .LVU451
 891:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1405              		.loc 1 891 80 is_stmt 0 view .LVU452
 1406 00fa 06F11402 		add	r2, r6, #20
 891:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* (in addition to the above, we test if another struct mem (SIZEOF_STRUCT_MEM) containin
 1407              		.loc 1 891 12 view .LVU453
 1408 00fe 9342     		cmp	r3, r2
 1409 0100 A5D3     		bcc	.L83
 902:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1410              		.loc 1 902 11 is_stmt 1 view .LVU454
 902:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1411              		.loc 1 902 55 is_stmt 0 view .LVU455
 1412 0102 2E44     		add	r6, r6, r5
 1413              	.LVL132:
 902:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1414              		.loc 1 902 55 view .LVU456
 1415 0104 B6B2     		uxth	r6, r6
 902:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           LWIP_ASSERT("invalid next ptr",ptr2 != MEM_SIZE_ALIGNED);
 1416              		.loc 1 902 16 view .LVU457
 1417 0106 0836     		adds	r6, r6, #8
 1418 0108 B6B2     		uxth	r6, r6
 1419              	.LVL133:
 903:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1420              		.loc 1 903 11 is_stmt 1 view .LVU458
 903:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1421              		.loc 1 903 11 view .LVU459
 1422 010a B6F5C86F 		cmp	r6, #1600
 1423 010e 96D0     		beq	.L105
 1424              	.LVL134:
 1425              	.L84:
 903:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1426              		.loc 1 903 11 discriminator 3 view .LVU460
 903:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* create mem2 struct */
 1427              		.loc 1 903 11 discriminator 3 view .LVU461
 905:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1428              		.loc 1 905 11 view .LVU462
 905:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->used = 0;
 1429              		.loc 1 905 18 is_stmt 0 view .LVU463
 1430 0110 3046     		mov	r0, r6
 1431 0112 FFF7FEFF 		bl	ptr_to_mem
 1432              	.LVL135:
 906:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
 1433              		.loc 1 906 11 is_stmt 1 view .LVU464
 906:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->next = mem->next;
ARM GAS  /tmp/ccT91cjR.s 			page 48


 1434              		.loc 1 906 22 is_stmt 0 view .LVU465
 1435 0116 0023     		movs	r3, #0
 1436 0118 0371     		strb	r3, [r0, #4]
 907:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1437              		.loc 1 907 11 is_stmt 1 view .LVU466
 907:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1438              		.loc 1 907 27 is_stmt 0 view .LVU467
 1439 011a 2388     		ldrh	r3, [r4]
 907:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem2->prev = ptr;
 1440              		.loc 1 907 22 view .LVU468
 1441 011c 0380     		strh	r3, [r0]	@ movhi
 908:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1442              		.loc 1 908 11 is_stmt 1 view .LVU469
 908:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           /* and insert it between mem and mem->next */
 1443              		.loc 1 908 22 is_stmt 0 view .LVU470
 1444 011e 4580     		strh	r5, [r0, #2]	@ movhi
 910:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1445              		.loc 1 910 11 is_stmt 1 view .LVU471
 910:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           mem->used = 1;
 1446              		.loc 1 910 21 is_stmt 0 view .LVU472
 1447 0120 2680     		strh	r6, [r4]	@ movhi
 911:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1448              		.loc 1 911 11 is_stmt 1 view .LVU473
 911:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 1449              		.loc 1 911 21 is_stmt 0 view .LVU474
 1450 0122 0123     		movs	r3, #1
 1451 0124 2371     		strb	r3, [r4, #4]
 913:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1452              		.loc 1 913 11 is_stmt 1 view .LVU475
 913:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1453              		.loc 1 913 19 is_stmt 0 view .LVU476
 1454 0126 0088     		ldrh	r0, [r0]
 1455              	.LVL136:
 913:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****             ptr_to_mem(mem2->next)->prev = ptr2;
 1456              		.loc 1 913 14 view .LVU477
 1457 0128 B0F5C86F 		cmp	r0, #1600
 1458 012c 91D0     		beq	.L85
 914:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1459              		.loc 1 914 13 is_stmt 1 view .LVU478
 1460 012e FFF7FEFF 		bl	ptr_to_mem
 1461              	.LVL137:
 914:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****           }
 1462              		.loc 1 914 42 is_stmt 0 discriminator 1 view .LVU479
 1463 0132 4680     		strh	r6, [r0, #2]	@ movhi
 1464 0134 8DE7     		b	.L85
 1465              	.LVL138:
 1466              	.L104:
 965:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****       }
 966:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     }
 967:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT
 968:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* if we got interrupted by a mem_free, try again */
 969:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   } while (local_mem_free_count != 0);
 970:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* LWIP_ALLOW_MEM_FREE_FROM_OTHER_CONTEXT */
 971:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   MEM_STATS_INC(err);
 972:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_MEM_ALLOC_UNPROTECT();
 973:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   sys_mutex_unlock(&mem_mutex);
 974:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_malloc: could not allocate %"S16_F" bytes\n
ARM GAS  /tmp/ccT91cjR.s 			page 49


 975:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return NULL;
 1467              		.loc 1 975 10 view .LVU480
 1468 0136 0020     		movs	r0, #0
 1469              	.LVL139:
 1470              	.L78:
 976:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1471              		.loc 1 976 1 view .LVU481
 1472 0138 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1473              	.LVL140:
 1474              	.L94:
 1475              	.LCFI7:
 1476              		.cfi_def_cfa_offset 0
 1477              		.cfi_restore 3
 1478              		.cfi_restore 4
 1479              		.cfi_restore 5
 1480              		.cfi_restore 6
 1481              		.cfi_restore 7
 1482              		.cfi_restore 14
 841:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1483              		.loc 1 841 12 view .LVU482
 1484 013a 0020     		movs	r0, #0
 1485              	.LVL141:
 1486              		.loc 1 976 1 view .LVU483
 1487 013c 7047     		bx	lr
 1488              	.LVL142:
 1489              	.L96:
 1490              	.LCFI8:
 1491              		.cfi_def_cfa_offset 24
 1492              		.cfi_offset 3, -24
 1493              		.cfi_offset 4, -20
 1494              		.cfi_offset 5, -16
 1495              		.cfi_offset 6, -12
 1496              		.cfi_offset 7, -8
 1497              		.cfi_offset 14, -4
 855:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1498              		.loc 1 855 12 view .LVU484
 1499 013e 0020     		movs	r0, #0
 1500              	.LVL143:
 855:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1501              		.loc 1 855 12 view .LVU485
 1502 0140 FAE7     		b	.L78
 1503              	.L107:
 1504 0142 00BF     		.align	2
 1505              	.L106:
 1506 0144 00000000 		.word	lfree
 1507 0148 00000000 		.word	.LC0
 1508 014c 38000000 		.word	.LC12
 1509 0150 4C000000 		.word	.LC2
 1510 0154 00000000 		.word	ram_end
 1511 0158 00000000 		.word	.LC13
 1512 015c 1C000000 		.word	.LC14
 1513 0160 4C000000 		.word	.LC15
 1514 0164 7C000000 		.word	.LC16
 1515              		.cfi_endproc
 1516              	.LFE177:
 1518              		.section	.text.mem_calloc,"ax",%progbits
 1519              		.align	1
ARM GAS  /tmp/ccT91cjR.s 			page 50


 1520              		.global	mem_calloc
 1521              		.syntax unified
 1522              		.thumb
 1523              		.thumb_func
 1525              	mem_calloc:
 1526              	.LVL144:
 1527              	.LFB178:
 977:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 978:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #endif /* MEM_USE_POOLS */
 979:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 980:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #if MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS)
 981:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 982:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
 983:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 984:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return mem_clib_calloc(count, size);
 985:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 986:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
 987:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** #else /* MEM_LIBC_MALLOC && (!LWIP_STATS || !MEM_STATS) */
 988:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** /**
 989:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * Contiguously allocates enough space for count objects that are size bytes
 990:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * of memory each and returns a pointer to the allocated memory.
 991:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 992:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * The allocated memory is filled with bytes of value zero.
 993:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  *
 994:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param count number of objects to allocate
 995:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @param size size of the objects to allocate
 996:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  * @return pointer to allocated memory / NULL pointer if there is an error
 997:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****  */
 998:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** void *
 999:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** mem_calloc(mem_size_t count, mem_size_t size)
1000:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** {
 1528              		.loc 1 1000 1 is_stmt 1 view -0
 1529              		.cfi_startproc
 1530              		@ args = 0, pretend = 0, frame = 0
 1531              		@ frame_needed = 0, uses_anonymous_args = 0
 1532              		.loc 1 1000 1 is_stmt 0 view .LVU487
 1533 0000 38B5     		push	{r3, r4, r5, lr}
 1534              	.LCFI9:
 1535              		.cfi_def_cfa_offset 16
 1536              		.cfi_offset 3, -16
 1537              		.cfi_offset 4, -12
 1538              		.cfi_offset 5, -8
 1539              		.cfi_offset 14, -4
1001:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   void *p;
 1540              		.loc 1 1001 3 is_stmt 1 view .LVU488
1002:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   size_t alloc_size = (size_t)count * (size_t)size;
 1541              		.loc 1 1002 3 view .LVU489
 1542              		.loc 1 1002 10 is_stmt 0 view .LVU490
 1543 0002 01FB00F4 		mul	r4, r1, r0
 1544              	.LVL145:
1003:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1004:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if ((size_t)(mem_size_t)alloc_size != alloc_size) {
 1545              		.loc 1 1004 3 is_stmt 1 view .LVU491
 1546              		.loc 1 1004 6 is_stmt 0 view .LVU492
 1547 0006 B4F5803F 		cmp	r4, #65536
 1548 000a 0AD2     		bcs	.L110
1005:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     LWIP_DEBUGF(MEM_DEBUG | LWIP_DBG_LEVEL_SERIOUS, ("mem_calloc: could not allocate %"SZT_F" bytes
ARM GAS  /tmp/ccT91cjR.s 			page 51


1006:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     return NULL;
1007:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1008:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** 
1009:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   /* allocate 'count' objects of size 'size' */
1010:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   p = mem_malloc((mem_size_t)alloc_size);
 1549              		.loc 1 1010 3 is_stmt 1 view .LVU493
 1550              		.loc 1 1010 7 is_stmt 0 view .LVU494
 1551 000c A0B2     		uxth	r0, r4
 1552              	.LVL146:
 1553              		.loc 1 1010 7 view .LVU495
 1554 000e FFF7FEFF 		bl	mem_malloc
 1555              	.LVL147:
1011:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   if (p) {
 1556              		.loc 1 1011 3 is_stmt 1 view .LVU496
 1557              		.loc 1 1011 6 is_stmt 0 view .LVU497
 1558 0012 0546     		mov	r5, r0
 1559 0014 18B1     		cbz	r0, .L108
1012:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     /* zero the memory */
1013:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****     memset(p, 0, alloc_size);
 1560              		.loc 1 1013 5 is_stmt 1 view .LVU498
 1561 0016 2246     		mov	r2, r4
 1562 0018 0021     		movs	r1, #0
 1563 001a FFF7FEFF 		bl	memset
 1564              	.LVL148:
 1565              	.L108:
1014:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
1015:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   return p;
1016:../../Middlewares/Third_Party/LwIP/src/core/mem.c **** }
 1566              		.loc 1 1016 1 is_stmt 0 view .LVU499
 1567 001e 2846     		mov	r0, r5
 1568 0020 38BD     		pop	{r3, r4, r5, pc}
 1569              	.LVL149:
 1570              	.L110:
1006:../../Middlewares/Third_Party/LwIP/src/core/mem.c ****   }
 1571              		.loc 1 1006 12 view .LVU500
 1572 0022 0025     		movs	r5, #0
 1573 0024 FBE7     		b	.L108
 1574              		.cfi_endproc
 1575              	.LFE178:
 1577              		.section	.bss.lfree,"aw",%nobits
 1578              		.align	2
 1581              	lfree:
 1582 0000 00000000 		.space	4
 1583              		.section	.bss.ram_end,"aw",%nobits
 1584              		.align	2
 1587              	ram_end:
 1588 0000 00000000 		.space	4
 1589              		.section	.bss.ram,"aw",%nobits
 1590              		.align	2
 1593              	ram:
 1594 0000 00000000 		.space	4
 1595              		.text
 1596              	.Letext0:
 1597              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1598              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1599              		.file 4 "/usr/lib/gcc/arm-none-eabi/14.1.0/include/stddef.h"
 1600              		.file 5 "../../Middlewares/Third_Party/LwIP/src/include/lwip/arch.h"
ARM GAS  /tmp/ccT91cjR.s 			page 52


 1601              		.file 6 "../../Middlewares/Third_Party/LwIP/src/include/lwip/mem.h"
 1602              		.file 7 "../../Middlewares/Third_Party/LwIP/src/include/lwip/memp.h"
 1603              		.file 8 "../../Middlewares/Third_Party/LwIP/src/include/lwip/err.h"
 1604              		.file 9 "/usr/arm-none-eabi/include/string.h"
 1605              		.file 10 "/usr/arm-none-eabi/include/stdio.h"
 1606              		.file 11 "<built-in>"
ARM GAS  /tmp/ccT91cjR.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 mem.c
     /tmp/ccT91cjR.s:20     .text.ptr_to_mem:00000000 $t
     /tmp/ccT91cjR.s:25     .text.ptr_to_mem:00000000 ptr_to_mem
     /tmp/ccT91cjR.s:45     .text.ptr_to_mem:00000008 $d
     /tmp/ccT91cjR.s:1593   .bss.ram:00000000 ram
     /tmp/ccT91cjR.s:50     .text.mem_to_ptr:00000000 $t
     /tmp/ccT91cjR.s:55     .text.mem_to_ptr:00000000 mem_to_ptr
     /tmp/ccT91cjR.s:75     .text.mem_to_ptr:0000000c $d
     /tmp/ccT91cjR.s:80     .text.mem_link_valid:00000000 $t
     /tmp/ccT91cjR.s:85     .text.mem_link_valid:00000000 mem_link_valid
     /tmp/ccT91cjR.s:201    .text.mem_link_valid:00000058 $d
     /tmp/ccT91cjR.s:1587   .bss.ram_end:00000000 ram_end
     /tmp/ccT91cjR.s:206    .rodata.plug_holes.str1.4:00000000 $d
     /tmp/ccT91cjR.s:225    .text.plug_holes:00000000 $t
     /tmp/ccT91cjR.s:230    .text.plug_holes:00000000 plug_holes
     /tmp/ccT91cjR.s:438    .text.plug_holes:000000d8 $d
     /tmp/ccT91cjR.s:1581   .bss.lfree:00000000 lfree
     /tmp/ccT91cjR.s:451    .text.mem_init:00000000 $t
     /tmp/ccT91cjR.s:457    .text.mem_init:00000000 mem_init
     /tmp/ccT91cjR.s:526    .text.mem_init:00000030 $d
     /tmp/ccT91cjR.s:534    .rodata.mem_free.str1.4:00000000 $d
     /tmp/ccT91cjR.s:547    .text.mem_free:00000000 $t
     /tmp/ccT91cjR.s:553    .text.mem_free:00000000 mem_free
     /tmp/ccT91cjR.s:735    .text.mem_free:00000090 $d
     /tmp/ccT91cjR.s:748    .rodata.mem_trim.str1.4:00000000 $d
     /tmp/ccT91cjR.s:758    .text.mem_trim:00000000 $t
     /tmp/ccT91cjR.s:764    .text.mem_trim:00000000 mem_trim
     /tmp/ccT91cjR.s:1119   .text.mem_trim:00000164 $d
     /tmp/ccT91cjR.s:1131   .rodata.mem_malloc.str1.4:00000000 $d
     /tmp/ccT91cjR.s:1144   .text.mem_malloc:00000000 $t
     /tmp/ccT91cjR.s:1150   .text.mem_malloc:00000000 mem_malloc
     /tmp/ccT91cjR.s:1506   .text.mem_malloc:00000144 $d
     /tmp/ccT91cjR.s:1519   .text.mem_calloc:00000000 $t
     /tmp/ccT91cjR.s:1525   .text.mem_calloc:00000000 mem_calloc
     /tmp/ccT91cjR.s:1578   .bss.lfree:00000000 $d
     /tmp/ccT91cjR.s:1584   .bss.ram_end:00000000 $d
     /tmp/ccT91cjR.s:1590   .bss.ram:00000000 $d

UNDEFINED SYMBOLS
printf
memset
